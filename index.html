<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Mom Method - AI Business Launch Wizard</title>
    <style>
        :root {
            --primary-blue: #2563EB;
            --success-green: #10B981;
            --warm-orange: #F59E0B;
            --purple-accent: #8B5CF6;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --bg-light: #F9FAFB;
            --border-color: #E5E7EB;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .language-selector {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .language-selector h2 {
            margin-bottom: 15px;
            color: var(--text-dark);
            font-size: 1.5em;
        }

        .language-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .language-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--primary-blue), #1e40af);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 200px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }

        .language-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }

        .language-btn.active {
            background: linear-gradient(135deg, var(--success-green), #047857);
        }

        .language-btn .flag {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .main-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, var(--primary-blue), #1e40af);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 6s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .badge {
            display: inline-block;
            background: var(--success-green);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin-top: 15px;
            font-size: 0.9em;
            position: relative;
            z-index: 1;
        }

        .workflow-selection {
            padding: 40px 30px;
            text-align: center;
            border-bottom: 2px solid var(--border-color);
        }

        .workflow-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .workflow-option {
            padding: 30px;
            border: 2px solid var(--border-color);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .workflow-option:hover {
            border-color: var(--primary-blue);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .workflow-option.selected {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        }

        .content {
            padding: 40px 30px;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            padding: 0 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .progress-step:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .progress-step.active {
            color: var(--primary-blue);
        }

        .progress-step.completed {
            color: var(--success-green);
        }

        .step-number {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .progress-step.active .step-number {
            background: var(--primary-blue);
            color: white;
        }

        .progress-step.completed .step-number {
            background: var(--success-green);
            color: white;
        }

        .step-text {
            font-size: 0.9em;
            text-align: center;
            font-weight: 500;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
        }

        .step-description {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid var(--primary-blue);
        }

        .form-section {
            margin-bottom: 30px;
            padding: 25px;
            background: var(--bg-light);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .form-section h3 {
            color: var(--text-dark);
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), #1e40af);
            color: white;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        .btn-secondary:hover {
            background: #4b5563;
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-green), #047857);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        .prompt-container {
            background: #f8fafc;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .prompt-text {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .copy-btn {
            padding: 8px 16px;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: #1e40af;
            transform: translateY(-1px);
        }

        .ai-platform-link {
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }
        
        .platform-button {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            color: white;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .platform-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            text-decoration: none;
            color: white;
        }
        
        .chatgpt-button {
            background: linear-gradient(135deg, #10a37f 0%, #0d8f6e 100%);
        }
        
        .gemini-button {
            background: linear-gradient(135deg, #4285f4 0%, #1557b7 100%);
        }
        
        .claude-button {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        }
        
        .platform-instruction {
            font-size: 14px;
            color: #64748b;
            margin: 5px 0;
        }
        
        .platform-instruction strong {
            color: #dc2626;
        }

        .calendar-instructions {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-left: 6px solid #d97706;
        }

        .calendar-instructions h3 {
            color: #92400e;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
        }

        .instruction-steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .step-instruction {
            display: flex;
            gap: 15px;
            align-items: flex-start;
            background: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #d97706;
        }

        .step-instruction .step-number {
            background: #d97706;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            flex-shrink: 0;
        }

        .step-instruction .step-content {
            flex: 1;
        }

        .step-instruction .step-content strong {
            display: block;
            margin-bottom: 8px;
            color: #92400e;
        }

        .step-instruction .step-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .step-instruction .step-content li {
            margin: 5px 0;
            color: #78350f;
        }

        .issue-selection {
            background: #fef2f2;
            border: 2px solid #fecaca;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }

        .issue-selection h3 {
            color: #dc2626;
            margin-bottom: 20px;
            text-align: center;
        }

        .issue-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .issue-category {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #dc2626;
        }

        .issue-category h4 {
            color: #991b1b;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .issue-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
            cursor: pointer;
        }

        .issue-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .issue-checkbox label {
            cursor: pointer;
            font-size: 14px;
            line-height: 1.4;
        }

        .issue-notes {
            margin-top: 20px;
        }

        .issue-notes label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #991b1b;
        }

        .issue-notes textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #fecaca;
            border-radius: 8px;
            font-family: inherit;
            resize: vertical;
        }

        .issue-notes textarea:focus {
            outline: none;
            border-color: #dc2626;
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        .update-prompt-btn {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .update-prompt-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }

        .workflow-status {
            margin: 20px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-icon {
            font-size: 18px;
        }
        
        .status-text {
            font-weight: 500;
            color: #374151;
        }
        
        .status-success {
            border-left-color: #10b981;
        }
        
        .status-success .status-icon {
            color: #10b981;
        }
        
        .status-processing {
            border-left-color: #f59e0b;
            animation: pulse 2s infinite;
        }
        
        .status-processing .status-icon {
            color: #f59e0b;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .collapsible {
            background: #f1f5f9;
            border: none;
            padding: 15px;
            width: 100%;
            text-align: left;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 10px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .collapsible:hover {
            background: #e2e8f0;
        }

        .collapsible.active {
            background: var(--primary-blue);
            color: white;
        }

        .collapsible-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .collapsible-content.active {
            display: block;
        }

        .import-section {
            background: #fef3c7;
            border: 2px dashed #fbbf24;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .file-input {
            margin: 15px 0;
        }

        .completion-section {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 15px;
            border: 2px solid var(--success-green);
        }

        .completion-section h2 {
            color: var(--success-green);
            margin-bottom: 20px;
            font-size: 2em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .language-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .language-btn {
                min-width: 250px;
            }
            
            .workflow-options {
                grid-template-columns: 1fr;
            }
            
            .progress-bar {
                flex-direction: column;
                align-items: center;
            }
            
            .progress-step {
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Language Selection -->
        <div class="language-selector">
            <h2 data-en="Choose Your Language / Elige Tu Idioma" data-es="Choose Your Language / Elige Tu Idioma">Choose Your Language / Elige Tu Idioma</h2>
            <div class="language-buttons">
                <button class="language-btn active" onclick="changeLanguage('en')" id="lang-en">
                    <span class="flag">🇺🇸</span>
                    <span data-en="English" data-es="English">English</span>
                    <small data-en="Read and answer everything in English" data-es="Read and answer everything in English">Read and answer everything in English</small>
                </button>
                <button class="language-btn" onclick="changeLanguage('es')" id="lang-es">
                    <span class="flag">🇪🇸</span>
                    <span data-en="Español" data-es="Español">Español</span>
                    <small data-en="Lee y responde todo en español" data-es="Lee y responde todo en español">Lee y responde todo en español</small>
                </button>
            </div>
        </div>

        <div class="main-card">
            <div class="header">
                <h1 data-en="Smart Mom Method" data-es="Método Mamá Inteligente">Smart Mom Method</h1>
                <p class="subtitle" data-en="AI-Powered Business Planning for Busy Moms" data-es="Planificación de Negocios con IA para Madres Ocupadas">AI-Powered Business Planning for Busy Moms</p>
                <span class="badge" data-en="100% Free" data-es="100% Gratis">100% Free</span>
            </div>

            <!-- Workflow Selection -->
            <div class="workflow-selection">
                <h2 data-en="🎯 Choose Your Workflow" data-es="🎯 Elige Tu Flujo de Trabajo">🎯 Choose Your Workflow</h2>
                <p data-en="Select the AI approach that works best for you:" data-es="Selecciona el enfoque de IA que funcione mejor para ti:">Select the AI approach that works best for you:</p>
                
                <div class="workflow-options">
                    <div class="workflow-option" onclick="selectWorkflow('multi')" id="workflow-multi">
                        <h3 data-en="🤖 Multi-AI Approach" data-es="🤖 Enfoque Multi-IA">🤖 Multi-AI Approach</h3>
                        <p data-en="Use different AI tools for different tasks" data-es="Usa diferentes herramientas de IA para diferentes tareas">Use different AI tools for different tasks</p>
                        <ul style="text-align: left; margin-top: 15px;">
                            <li data-en="ChatGPT: Business idea generation" data-es="ChatGPT: Generación de ideas de negocio">ChatGPT: Business idea generation</li>
                            <li data-en="Gemini: Market validation & MVP" data-es="Gemini: Validación de mercado y MVP">Gemini: Market validation & MVP</li>
                            <li data-en="Claude: Interactive calendar creation" data-es="Claude: Creación de calendario interactivo">Claude: Interactive calendar creation</li>
                        </ul>
                        <div style="margin-top: 15px; color: var(--success-green); font-weight: bold;" data-en="✅ Completely Free" data-es="✅ Completamente Gratis">✅ Completely Free</div>
                    </div>
                    
                    <div class="workflow-option" onclick="selectWorkflow('claude')" id="workflow-claude">
                        <h3 data-en="🟣 Claude-Only Approach" data-es="🟣 Enfoque Solo Claude">🟣 Claude-Only Approach</h3>
                        <p data-en="Use Claude for all business planning tasks" data-es="Usa Claude para todas las tareas de planificación empresarial">Use Claude for all business planning tasks</p>
                        <ul style="text-align: left; margin-top: 15px;">
                            <li data-en="Claude: Complete business plan" data-es="Claude: Plan de negocios completo">Claude: Complete business plan</li>
                            <li data-en="Claude: Validation & MVP strategy" data-es="Claude: Validación y estrategia MVP">Claude: Validation & MVP strategy</li>
                            <li data-en="Claude: Interactive calendar" data-es="Claude: Calendario interactivo">Claude: Interactive calendar</li>
                        </ul>
                        <div style="margin-top: 15px; color: var(--warm-orange); font-weight: bold;" data-en="💎 Requires Claude Pro ($20/month)" data-es="💎 Requiere Claude Pro ($20/mes)">💎 Requires Claude Pro ($20/month)</div>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- Progress Bar -->
                <div class="progress-bar">
                    <div class="progress-step active" data-step="0" onclick="goToStep(0)">
                        <span class="step-number">1</span>
                        <span class="step-text" data-en="Collect Information" data-es="Recopilar Información">Collect Information</span>
                    </div>
                    <div class="progress-step" data-step="1" onclick="goToStep(1)">
                        <span class="step-number">2</span>
                        <span class="step-text" data-en="ChatGPT" data-es="ChatGPT">ChatGPT</span>
                    </div>
                    <div class="progress-step" data-step="2" onclick="goToStep(2)">
                        <span class="step-number">3</span>
                        <span class="step-text" data-en="Gemini" data-es="Gemini">Gemini</span>
                    </div>
                    <div class="progress-step" data-step="3" onclick="goToStep(3)">
                        <span class="step-number">4</span>
                        <span class="step-text" data-en="Claude" data-es="Claude">Claude</span>
                    </div>
                    <div class="progress-step" data-step="4" onclick="goToStep(4)">
                        <span class="step-number">5</span>
                        <span class="step-text" data-en="Optimize" data-es="Optimizar">Optimize</span>
                    </div>
                    <div class="progress-step" data-step="5" onclick="goToStep(5)">
                        <span class="step-number">6</span>
                        <span class="step-text" data-en="Complete" data-es="Completar">Complete</span>
                    </div>
                </div>

                <!-- Step 0: Collect Information -->
                <div id="step-0" class="step-content active">
                    <div class="step-description">
                        <h2 data-en="📋 Step 1: Tell Us About Yourself" data-es="📋 Paso 1: Cuéntanos Sobre Ti">📋 Step 1: Tell Us About Yourself</h2>
                        <p data-en="The more specific you are, the better your personalized AI prompts will be. This information helps create business ideas that actually fit your real life." data-es="Cuanto más específica seas, mejores serán tus prompts de IA personalizados. Esta información ayuda a crear ideas de negocio que realmente se adapten a tu vida real.">The more specific you are, the better your personalized AI prompts will be. This information helps create business ideas that actually fit your real life.</p>
                    </div>

                    <!-- Import Previous Data -->
                    <div class="import-section">
                        <h3 data-en="💡 Import Previous Data" data-es="💡 Importar Datos Previos">💡 Import Previous Data</h3>
                        <p data-en="Already used Smart Mom Method before? Upload your previous workflow file to continue where you left off." data-es="¿Ya usaste el Método Mamá Inteligente antes? Sube tu archivo de flujo de trabajo anterior para continuar donde lo dejaste.">Already used Smart Mom Method before? Upload your previous workflow file to continue where you left off.</p>
                        <input type="file" id="import-file" accept=".json" onchange="importWorkflowData()" class="file-input">
                    </div>

                    <!-- Personal & Family Situation -->
                    <div class="form-section">
                        <h3 data-en="👨‍👩‍👧‍👦 Personal & Family Situation" data-es="👨‍👩‍👧‍👦 Situación Personal y Familiar">👨‍👩‍👧‍👦 Personal & Family Situation</h3>
                        
                        <div class="form-group">
                            <label data-en="Family Structure & Ages:" data-es="Estructura Familiar y Edades:">Family Structure & Ages:</label>
                            <textarea id="family-structure" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Married with 5-year-old in kindergarten and 2-year-old at home. Husband works full-time. I handle most childcare and household duties.'" 
                                data-es-placeholder="ej., 'Casada con un niño de 5 años en kindergarten y uno de 2 años en casa. Mi esposo trabaja tiempo completo. Yo manejo la mayoría del cuidado de los niños y las tareas domésticas.'"
                                placeholder="e.g., 'Married with 5-year-old in kindergarten and 2-year-old at home. Husband works full-time. I handle most childcare and household duties.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Daily Schedule & Availability:" data-es="Horario Diario y Disponibilidad:">Daily Schedule & Availability:</label>
                            <textarea id="daily-schedule" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Free from 9-11am when youngest naps. Kids in bed by 8pm, so I have 8-10pm available. Weekends are family time except Sunday mornings.'" 
                                data-es-placeholder="ej., 'Libre de 9-11am cuando el menor duerme siesta. Los niños se acuestan a las 8pm, así que tengo disponible de 8-10pm. Los fines de semana son tiempo familiar excepto los domingos por la mañana.'"
                                placeholder="e.g., 'Free from 9-11am when youngest naps. Kids in bed by 8pm, so I have 8-10pm available. Weekends are family time except Sunday mornings.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Current Work Status:" data-es="Estado Laboral Actual:">Current Work Status:</label>
                            <select id="work-status" class="form-control">
                                <option value="" data-en="Select your situation..." data-es="Selecciona tu situación...">Select your situation...</option>
                                <option value="stay-at-home" data-en="Stay-at-home super mom" data-es="Súper madre de tiempo completo">Stay-at-home super mom</option>
                                <option value="part-time" data-en="Working part-time" data-es="Trabajando medio tiempo">Working part-time</option>
                                <option value="full-time" data-en="Working full-time" data-es="Trabajando tiempo completo">Working full-time</option>
                                <option value="unemployed" data-en="Recently unemployed/looking" data-es="Recientemente desempleada/buscando">Recently unemployed/looking</option>
                                <option value="student" data-en="Student/in school" data-es="Estudiante/en la escuela">Student/in school</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Energy Patterns:" data-es="Patrones de Energía:">Energy Patterns:</label>
                            <select id="energy-pattern" class="form-control">
                                <option value="" data-en="When do you feel most productive?" data-es="¿Cuándo te sientes más productiva?">When do you feel most productive?</option>
                                <option value="morning" data-en="Morning person (6am-12pm)" data-es="Persona matutina (6am-12pm)">Morning person (6am-12pm)</option>
                                <option value="afternoon" data-en="Afternoon person (12pm-6pm)" data-es="Persona vespertina (12pm-6pm)">Afternoon person (12pm-6pm)</option>
                                <option value="evening" data-en="Evening person (6pm-10pm)" data-es="Persona nocturna (6pm-10pm)">Evening person (6pm-10pm)</option>
                                <option value="night" data-en="Night owl (after 10pm)" data-es="Búho nocturno (después de 10pm)">Night owl (after 10pm)</option>
                                <option value="flexible" data-en="Flexible/varies by day" data-es="Flexible/varía por día">Flexible/varies by day</option>
                            </select>
                        </div>
                    </div>

                    <!-- Skills & Experience -->
                    <div class="form-section">
                        <h3 data-en="🎯 Skills & Experience" data-es="🎯 Habilidades y Experiencia">🎯 Skills & Experience</h3>
                        
                        <div class="form-group">
                            <label data-en="Professional Background:" data-es="Antecedentes Profesionales:">Professional Background:</label>
                            <textarea id="skills" class="form-control" rows="3" 
                                data-en-placeholder="e.g., '10 years in marketing, project management experience, good with Excel and presentations, former teacher, always been the organized one who plans family events.'" 
                                data-es-placeholder="ej., '10 años en marketing, experiencia en gestión de proyectos, buena con Excel y presentaciones, ex-maestra, siempre he sido la organizada que planifica eventos familiares.'"
                                placeholder="e.g., '10 years in marketing, project management experience, good with Excel and presentations, former teacher, always been the organized one who plans family events.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Natural Talents & Strengths:" data-es="Talentos Naturales y Fortalezas:">Natural Talents & Strengths:</label>
                            <textarea id="talents" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Great listener, people always come to me for advice, creative problem solver, love researching and finding the best deals, excellent at explaining complex things simply.'" 
                                data-es-placeholder="ej., 'Buena oyente, la gente siempre viene a mí por consejos, solucionadora creativa de problemas, me encanta investigar y encontrar las mejores ofertas, excelente explicando cosas complejas de manera simple.'"
                                placeholder="e.g., 'Great listener, people always come to me for advice, creative problem solver, love researching and finding the best deals, excellent at explaining complex things simply.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="What Others Ask You For Help With:" data-es="Para Qué Te Piden Ayuda Otros:">What Others Ask You For Help With:</label>
                            <textarea id="help-requests" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Friends ask me to plan their parties, neighbors want meal planning tips, other moms ask about organizing kids' schedules, family comes to me for tech support.'" 
                                data-es-placeholder="ej., 'Las amigas me piden que planifique sus fiestas, las vecinas quieren consejos de planificación de comidas, otras madres preguntan sobre organizar horarios de niños, la familia viene a mí por soporte técnico.'"
                                placeholder="e.g., 'Friends ask me to plan their parties, neighbors want meal planning tips, other moms ask about organizing kids' schedules, family comes to me for tech support.'"></textarea>
                        </div>
                    </div>

                    <!-- Technology & Platforms -->
                    <div class="form-section">
                        <h3 data-en="💻 Technology & Platforms" data-es="💻 Tecnología y Plataformas">💻 Technology & Platforms</h3>
                        
                        <div class="form-group">
                            <label data-en="Tech Comfort Level:" data-es="Nivel de Comodidad Tecnológica:">Tech Comfort Level:</label>
                            <select id="tech-comfort" class="form-control">
                                <option value="" data-en="How comfortable are you with technology?" data-es="¿Qué tan cómoda estás con la tecnología?">How comfortable are you with technology?</option>
                                <option value="beginner" data-en="Beginner (basics only)" data-es="Principiante (solo lo básico)">Beginner (basics only)</option>
                                <option value="intermediate" data-en="Intermediate (comfortable learning)" data-es="Intermedio (cómoda aprendiendo)">Intermediate (comfortable learning)</option>
                                <option value="advanced" data-en="Advanced (love trying new tools)" data-es="Avanzado (me encanta probar nuevas herramientas)">Advanced (love trying new tools)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Social Media Platforms You Use:" data-es="Plataformas de Redes Sociales que Usas:">Social Media Platforms You Use:</label>
                            <textarea id="social-platforms" class="form-control" rows="2" 
                                data-en-placeholder="e.g., 'Instagram daily, Facebook for family updates, Pinterest for recipes and home ideas, just started TikTok.'" 
                                data-es-placeholder="ej., 'Instagram diariamente, Facebook para actualizaciones familiares, Pinterest para recetas e ideas del hogar, acabo de empezar TikTok.'"
                                placeholder="e.g., 'Instagram daily, Facebook for family updates, Pinterest for recipes and home ideas, just started TikTok.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Comfort with Being on Camera:" data-es="Comodidad Estando en Cámara:">Comfort with Being on Camera:</label>
                            <select id="camera-comfort" class="form-control">
                                <option value="" data-en="How do you feel about video content?" data-es="¿Cómo te sientes sobre el contenido en video?">How do you feel about video content?</option>
                                <option value="love-it" data-en="Love it, very comfortable" data-es="Me encanta, muy cómoda">Love it, very comfortable</option>
                                <option value="comfortable" data-en="Comfortable doing videos" data-es="Cómoda estando en video">Comfortable doing videos</option>
                                <option value="nervous" data-en="Nervous but willing to try" data-es="Nerviosa pero dispuesta a intentar">Nervous but willing to try</option>
                                <option value="prefer-not" data-en="Prefer not to be on camera" data-es="Prefiero no estar en cámara">Prefer not to be on camera</option>
                            </select>
                        </div>
                    </div>

                    <!-- Business Goals & Constraints -->
                    <div class="form-section">
                        <h3 data-en="🎯 Business Goals & Constraints" data-es="🎯 Objetivos y Limitaciones del Negocio">🎯 Business Goals & Constraints</h3>
                        
                        <div class="form-group">
                            <label data-en="Income Timeline:" data-es="Cronograma de Ingresos:">Income Timeline:</label>
                            <select id="income-timeline" class="form-control">
                                <option value="" data-en="When do you need to start making money?" data-es="¿Cuándo necesitas empezar a ganar dinero?">When do you need to start making money?</option>
                                <option value="immediately" data-en="Need income immediately" data-es="Necesito ingresos inmediatamente">Need income immediately</option>
                                <option value="3-months" data-en="Need income in 3 months" data-es="Necesito ingresos en 3 meses">Need income in 3 months</option>
                                <option value="6-months" data-en="Can wait 6 months for income" data-es="Puedo esperar 6 meses por ingresos">Can wait 6 months for income</option>
                                <option value="1-year" data-en="Building for the long term (1+ years)" data-es="Construyendo a largo plazo (1+ años)">Building for the long term (1+ years)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Available Work Hours per Day:" data-es="Horas de Trabajo Disponibles por Día:">Available Work Hours per Day:</label>
                            <select id="work-hours" class="form-control">
                                <option value="" data-en="How much time can you realistically dedicate?" data-es="¿Cuánto tiempo puedes dedicar realísticamente?">How much time can you realistically dedicate?</option>
                                <option value="1-2-hours" data-en="1-2 hours per day" data-es="1-2 horas por día">1-2 hours per day</option>
                                <option value="2-4-hours" data-en="2-4 hours per day" data-es="2-4 horas por día">2-4 hours per day</option>
                                <option value="4-6-hours" data-en="4-6 hours per day" data-es="4-6 horas por día">4-6 hours per day</option>
                                <option value="6-plus-hours" data-en="6+ hours per day" data-es="6+ horas por día">6+ hours per day</option>
                                <option value="irregular" data-en="Irregular schedule" data-es="Horario irregular">Irregular schedule</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Monthly Income Goal:" data-es="Meta de Ingresos Mensuales:">Monthly Income Goal:</label>
                            <textarea id="income-goal" class="form-control" rows="2" 
                                data-en-placeholder="e.g., '$1,500/month to cover grocery budget, $3,000/month to replace part-time job, $5,000/month for family financial freedom.'" 
                                data-es-placeholder="ej., '$1,500/mes para cubrir el presupuesto de comestibles, $3,000/mes para reemplazar trabajo de medio tiempo, $5,000/mes para libertad financiera familiar.'"
                                placeholder="e.g., '$1,500/month to cover grocery budget, $3,000/month to replace part-time job, $5,000/month for family financial freedom.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Available Budget:" data-es="Presupuesto Disponible:">Available Budget:</label>
                            <select id="budget" class="form-control">
                                <option value="" data-en="How much can you invest to start?" data-es="¿Cuánto puedes invertir para empezar?">How much can you invest to start?</option>
                                <option value="0" data-en="$0 - completely free to start" data-es="$0 - completamente gratis para empezar">$0 - completely free to start</option>
                                <option value="under-100" data-en="Under $100" data-es="Menos de $100">Under $100</option>
                                <option value="100-500" data-en="$100-$500" data-es="$100-$500">$100-$500</option>
                                <option value="500-1000" data-en="$500-$1,000" data-es="$500-$1,000">$500-$1,000</option>
                                <option value="1000-plus" data-en="$1,000+" data-es="$1,000+">$1,000+</option>
                            </select>
                        </div>
                    </div>

                    <!-- Passion & Motivation -->
                    <div class="form-section">
                        <h3 data-en="💝 Passion & Motivation" data-es="💝 Pasión y Motivación">💝 Passion & Motivation</h3>
                        
                        <div class="form-group">
                            <label data-en="What Topics Do You Love Talking About:" data-es="Qué Temas Te Encanta Hablar:">What Topics Do You Love Talking About:</label>
                            <textarea id="passionate-topics" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Organization tips, meal planning, kids' activities, personal development, home decorating, travel with kids, budgeting, wellness.'" 
                                data-es-placeholder="ej., 'Consejos de organización, planificación de comidas, actividades para niños, desarrollo personal, decoración del hogar, viajes con niños, presupuesto, bienestar.'"
                                placeholder="e.g., 'Organization tips, meal planning, kids' activities, personal development, home decorating, travel with kids, budgeting, wellness.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Problems You Notice Other Moms Struggling With:" data-es="Problemas que Notas que Otras Madres Enfrentan:">Problems You Notice Other Moms Struggling With:</label>
                            <textarea id="mom-problems" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Finding time for themselves, meal planning, feeling isolated, managing kids' schedules, work-life balance, financial stress.'" 
                                data-es-placeholder="ej., 'Encontrar tiempo para ellas mismas, planificación de comidas, sentirse aisladas, manejar horarios de niños, equilibrio trabajo-vida, estrés financiero.'"
                                placeholder="e.g., 'Finding time for themselves, meal planning, feeling isolated, managing kids' schedules, work-life balance, financial stress.'"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label data-en="Why Starting a Business Matters to You:" data-es="Por Qué Empezar un Negocio es Importante para Ti:">Why Starting a Business Matters to You:</label>
                            <textarea id="motivation" class="form-control" rows="3" 
                                data-en-placeholder="e.g., 'Want financial independence, need flexible income around kids, want to set an example for my children, miss using my brain for work.'" 
                                data-es-placeholder="ej., 'Quiero independencia financiera, necesito ingresos flexibles alrededor de los niños, quiero dar ejemplo a mis hijos, extraño usar mi cerebro para trabajar.'"
                                placeholder="e.g., 'Want financial independence, need flexible income around kids, want to set an example for my children, miss using my brain for work.'"></textarea>
                        </div>
                    </div>

                    <div class="workflow-status">
                        <div class="status-indicator" id="data-collected-status">
                            <span class="status-icon">⏳</span>
                            <span class="status-text" data-en="Waiting for information..." data-es="Esperando información...">Waiting for information...</span>
                        </div>
                    </div>
                    
                    <button type="button" onclick="collectInformation()" class="btn btn-primary">
                        <span data-en="📋 Generate Personalized Prompts" data-es="📋 Generar Prompts Personalizados">📋 Generate Personalized Prompts</span>
                    </button>
                </div>

                <!-- Step 1: ChatGPT Prompt -->
                <div id="step-1" class="step-content">
                    <div class="step-description">
                        <h2 data-en="🟢 Step 2: ChatGPT Business Ideation" data-es="🟢 Paso 2: Ideación de Negocio con ChatGPT">🟢 Step 2: ChatGPT Business Ideation</h2>
                        <p data-en="Use this personalized prompt with ChatGPT to discover business ideas that perfectly fit your situation and constraints." 
                           data-es="Usa este prompt personalizado con ChatGPT para descubrir ideas de negocio que se adapten perfectamente a tu situación y limitaciones.">
                            Use this personalized prompt with ChatGPT to discover business ideas that perfectly fit your situation and constraints.
                        </p>
                        
                        <div class="ai-platform-link">
                            <a href="https://chat.openai.com" target="_blank" class="platform-button chatgpt-button">
                                🟢 <span data-en="Go to ChatGPT" data-es="Ir a ChatGPT">Go to ChatGPT</span> →
                            </a>
                            <p class="platform-instruction" data-en="Click the link above, then paste the prompt below" data-es="Haz clic en el enlace de arriba, luego pega el prompt de abajo">
                                Click the link above, then paste the prompt below
                            </p>
                        </div>
                    </div>

                    <div class="workflow-status">
                        <div class="status-indicator" id="chatgpt-status">
                            <span class="status-icon">⏳</span>
                            <span class="status-text" data-en="Prompt ready - your information has been processed" data-es="Prompt listo - tu información ha sido procesada">Prompt ready - your information has been processed</span>
                        </div>
                    </div>

                    <div class="prompt-container">
                        <div class="prompt-header">
                            <h4 data-en="Your Personalized ChatGPT Prompt:" data-es="Tu Prompt Personalizado para ChatGPT:">Your Personalized ChatGPT Prompt:</h4>
                            <button onclick="copyToClipboard(document.getElementById('chatgpt-prompt').textContent, this)" class="copy-btn" data-en="📋 Copy Prompt" data-es="📋 Copiar Prompt">📋 Copy Prompt</button>
                        </div>
                        <div id="chatgpt-prompt" class="prompt-text"></div>
                    </div>

                    <div style="margin-top: 30px;">
                        <h4 data-en="📝 After ChatGPT responds:" data-es="📝 Después de que ChatGPT responda:">📝 After ChatGPT responds:</h4>
                        <div class="form-group">
                            <label data-en="Paste ChatGPT's business recommendations here:" data-es="Pega las recomendaciones de negocio de ChatGPT aquí:">Paste ChatGPT's business recommendations here:</label>
                            <textarea id="chatgpt-response" class="form-control" rows="8" 
                                data-en-placeholder="Copy and paste ChatGPT's complete response here..." 
                                data-es-placeholder="Copia y pega la respuesta completa de ChatGPT aquí..."
                                placeholder="Copy and paste ChatGPT's complete response here..."></textarea>
                        </div>
                        <button onclick="goToStep(2)" class="btn btn-success" data-en="✅ Continue to Validation" data-es="✅ Continuar a Validación">✅ Continue to Validation</button>
                    </div>
                </div>

                <!-- Step 2: Gemini Prompt -->
                <div id="step-2" class="step-content">
                    <div class="step-description">
                        <h2 data-en="🔵 Step 3: Gemini Market Validation" data-es="🔵 Paso 3: Validación de Mercado con Gemini">🔵 Step 3: Gemini Market Validation</h2>
                        <p data-en="Use Gemini's Deep Research mode to validate your business idea and create a detailed MVP strategy." 
                           data-es="Usa el modo de Investigación Profunda de Gemini para validar tu idea de negocio y crear una estrategia detallada de MVP.">
                            Use Gemini's Deep Research mode to validate your business idea and create a detailed MVP strategy.
                        </p>
                        
                        <div class="ai-platform-link">
                            <a href="https://gemini.google.com" target="_blank" class="platform-button gemini-button">
                                🔵 <span data-en="Go to Gemini" data-es="Ir a Gemini">Go to Gemini</span> →
                            </a>
                            <div class="platform-instruction">
                                <p data-en="1. Click the link above to open Gemini" data-es="1. Haz clic en el enlace de arriba para abrir Gemini">
                                    1. Click the link above to open Gemini
                                </p>
                                <p data-en="2. Paste the prompt below" data-es="2. Pega el prompt de abajo">
                                    2. Paste the prompt below
                                </p>
                                <p data-en="3. ⚠️ IMPORTANT: Select 'Deep Research' mode when Gemini asks" data-es="3. ⚠️ IMPORTANTE: Selecciona el modo 'Investigación Profunda' cuando Gemini lo solicite">
                                    3. ⚠️ <strong>IMPORTANT</strong>: Select 'Deep Research' mode when Gemini asks
                                </p>
                                <p data-en="4. Follow Gemini's additional questions to complete the research" data-es="4. Sigue las preguntas adicionales de Gemini para completar la investigación">
                                    4. Follow Gemini's additional questions to complete the research
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="prompt-container">
                        <div class="prompt-header">
                            <h4 data-en="Your Personalized Gemini Prompt:" data-es="Tu Prompt Personalizado para Gemini:">Your Personalized Gemini Prompt:</h4>
                            <button onclick="copyToClipboard(document.getElementById('gemini-prompt').textContent, this)" class="copy-btn" data-en="📋 Copy Prompt" data-es="📋 Copiar Prompt">📋 Copy Prompt</button>
                        </div>
                        <div id="gemini-prompt" class="prompt-text"></div>
                    </div>

                    <div style="margin-top: 30px;">
                        <h4 data-en="📝 After Gemini completes the research:" data-es="📝 Después de que Gemini complete la investigación:">📝 After Gemini completes the research:</h4>
                        <div class="form-group">
                            <label data-en="Paste Gemini's validation analysis here:" data-es="Pega el análisis de validación de Gemini aquí:">Paste Gemini's validation analysis here:</label>
                            <textarea id="gemini-response" class="form-control" rows="8" 
                                data-en-placeholder="Copy and paste Gemini's complete research and validation response here..." 
                                data-es-placeholder="Copia y pega la respuesta completa de investigación y validación de Gemini aquí..."
                                placeholder="Copy and paste Gemini's complete research and validation response here..."></textarea>
                        </div>
                        <button onclick="goToStep(3)" class="btn btn-success" data-en="✅ Continue to Calendar Creation" data-es="✅ Continuar a Creación de Calendario">✅ Continue to Calendar Creation</button>
                    </div>
                </div>

                <!-- Step 3: Claude Calendar Prompt -->
                <div id="step-3" class="step-content">
                    <div class="step-description">
                        <h2 data-en="🟣 Step 4: Claude Interactive Calendar" data-es="🟣 Paso 4: Calendario Interactivo con Claude">🟣 Step 4: Claude Interactive Calendar</h2>
                        <p data-en="Use Claude to create your personalized interactive calendar with daily tasks, templates, and progress tracking." 
                           data-es="Usa Claude para crear tu calendario interactivo personalizado con tareas diarias, plantillas y seguimiento de progreso.">
                            Use Claude to create your personalized interactive calendar with daily tasks, templates, and progress tracking.
                        </p>
                        
                        <div class="ai-platform-link">
                            <a href="https://claude.ai" target="_blank" class="platform-button claude-button">
                                🟣 <span data-en="Go to Claude" data-es="Ir a Claude">Go to Claude</span> →
                            </a>
                            <p class="platform-instruction" data-en="Click the link above, then paste the prompt below for your interactive calendar" data-es="Haz clic en el enlace de arriba, luego pega el prompt de abajo para tu calendario interactivo">
                                Click the link above, then paste the prompt below for your interactive calendar
                            </p>
                        </div>

                        <!-- CALENDAR SAVING INSTRUCTIONS -->
                        <div class="calendar-instructions">
                            <h3 data-en="📝 IMPORTANT: How to Save Your Calendar" data-es="📝 IMPORTANTE: Cómo Guardar Tu Calendario">📝 IMPORTANT: How to Save Your Calendar</h3>
                            <div class="instruction-steps">
                                <div class="step-instruction">
                                    <span class="step-number">1</span>
                                    <div class="step-content">
                                        <strong data-en="After Claude creates your calendar:" data-es="Después de que Claude cree tu calendario:">After Claude creates your calendar:</strong>
                                        <p data-en="Claude will generate an interactive HTML calendar. You'll see the calendar working in Claude's interface." data-es="Claude generará un calendario HTML interactivo. Verás el calendario funcionando en la interfaz de Claude.">Claude will generate an interactive HTML calendar. You'll see the calendar working in Claude's interface.</p>
                                    </div>
                                </div>
                                
                                <div class="step-instruction">
                                    <span class="step-number">2</span>
                                    <div class="step-content">
                                        <strong data-en="Get the complete HTML code:" data-es="Obtén el código HTML completo:">Get the complete HTML code:</strong>
                                        <p data-en="Right-click on the calendar → 'View Page Source' OR ask Claude: 'Can you provide the complete HTML code for download?'" data-es="Haz clic derecho en el calendario → 'Ver código fuente' O pregunta a Claude: '¿Puedes proporcionar el código HTML completo para descarga?'">Right-click on the calendar → "View Page Source" OR ask Claude: "Can you provide the complete HTML code for download?"</p>
                                    </div>
                                </div>
                                
                                <div class="step-instruction">
                                    <span class="step-number">3</span>
                                    <div class="step-content">
                                        <strong data-en="Save the file correctly:" data-es="Guarda el archivo correctamente:">Save the file correctly:</strong>
                                        <ul>
                                            <li data-en="Copy ALL the HTML code (from &lt;!DOCTYPE html&gt; to &lt;/html&gt;)" data-es="Copia TODO el código HTML (desde &lt;!DOCTYPE html&gt; hasta &lt;/html&gt;)">Copy ALL the HTML code (from &lt;!DOCTYPE html&gt; to &lt;/html&gt;)</li>
                                            <li data-en="Open Notepad/TextEdit and paste the code" data-es="Abre Notepad/TextEdit y pega el código">Open Notepad/TextEdit and paste the code</li>
                                            <li data-en="Save as: my-business-calendar.html" data-es="Guarda como: my-business-calendar.html">Save as: <strong>my-business-calendar.html</strong></li>
                                            <li data-en="Make sure it ends with .html (not .txt)" data-es="Asegúrate de que termine con .html (no .txt)">Make sure it ends with <strong>.html</strong> (not .txt)</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step-instruction">
                                    <span class="step-number">4</span>
                                    <div class="step-content">
                                        <strong data-en="Test your calendar:" data-es="Prueba tu calendario:">Test your calendar:</strong>
                                        <p data-en="Double-click the .html file → It should open in your browser and work perfectly offline!" data-es="Haz doble clic en el archivo .html → ¡Debería abrirse en tu navegador y funcionar perfectamente sin conexión!">Double-click the .html file → It should open in your browser and work perfectly offline!</p>
                                    </div>
                                </div>

                                <div class="step-instruction">
                                    <span class="step-number">5</span>
                                    <div class="step-content">
                                        <strong data-en="For future updates:" data-es="Para futuras actualizaciones:">For future updates:</strong>
                                        <p data-en="Keep this file! If you need to fix or update your calendar, you can upload it back to Claude or use the optimization prompts below." data-es="¡Conserva este archivo! Si necesitas arreglar o actualizar tu calendario, puedes subirlo de vuelta a Claude o usar los prompts de optimización de abajo.">Keep this file! If you need to fix or update your calendar, you can upload it back to Claude or use the optimization prompts below.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="prompt-container">
                        <div class="prompt-header">
                            <h4 data-en="Your Personalized Claude Prompt:" data-es="Tu Prompt Personalizado para Claude:">Your Personalized Claude Prompt:</h4>
                            <button onclick="copyToClipboard(document.getElementById('claude-prompt').textContent, this)" class="copy-btn" data-en="📋 Copy Prompt" data-es="📋 Copiar Prompt">📋 Copy Prompt</button>
                        </div>
                        <div id="claude-prompt" class="prompt-text"></div>
                    </div>

                    <div style="margin-top: 30px;">
                        <h4 data-en="📝 After Claude creates your calendar:" data-es="📝 Después de que Claude cree tu calendario:">📝 After Claude creates your calendar:</h4>
                        <div class="form-group">
                            <label data-en="Calendar creation status:" data-es="Estado de creación del calendario:">Calendar creation status:</label>
                            <textarea id="claude-response" class="form-control" rows="6" 
                                data-en-placeholder="After Claude creates your calendar, paste a link or note about the calendar here..." 
                                data-es-placeholder="Después de que Claude cree tu calendario, pega un enlace o nota sobre el calendario aquí..."
                                placeholder="After Claude creates your calendar, paste a link or note about the calendar here..."></textarea>
                        </div>
                        <button onclick="goToStep(4)" class="btn btn-success" data-en="✅ Continue to Optimization" data-es="✅ Continuar a Optimización">✅ Continue to Optimization</button>
                    </div>
                </div>

                <!-- Step 4: Optimization -->
                <div id="step-4" class="step-content">
                    <div class="step-description">
                        <h2 data-en="⚡ Step 5: Optimize & Problem-Solve" data-es="⚡ Paso 5: Optimizar y Resolver Problemas">⚡ Step 5: Optimize & Problem-Solve</h2>
                        <p data-en="Select the specific issues you're experiencing with your calendar or business plan to generate a personalized troubleshooting prompt." data-es="Selecciona los problemas específicos que estás experimentando con tu calendario o plan de negocios para generar un prompt de solución personalizado.">Select the specific issues you're experiencing with your calendar or business plan to generate a personalized troubleshooting prompt.</p>
                    </div>

                    <!-- Issue Selection Section -->
                    <div class="issue-selection">
                        <h3 data-en="🔧 Select Your Specific Issues" data-es="🔧 Selecciona Tus Problemas Específicos">🔧 Select Your Specific Issues</h3>
                        
                        <div class="issue-categories">
                            <!-- Calendar Technical Issues -->
                            <div class="issue-category">
                                <h4 data-en="📅 Calendar Technical Issues" data-es="📅 Problemas Técnicos del Calendario">📅 Calendar Technical Issues</h4>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-empty-days" onchange="updateOptimizationPrompt()">
                                    <label for="issue-empty-days" data-en="Calendar has empty days with no tasks" data-es="El calendario tiene días vacíos sin tareas">Calendar has empty days with no tasks</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-list-format" onchange="updateOptimizationPrompt()">
                                    <label for="issue-list-format" data-en="Generated as a list instead of calendar grid" data-es="Generado como lista en lugar de cuadrícula de calendario">Generated as a list instead of calendar grid</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-not-mobile" onchange="updateOptimizationPrompt()">
                                    <label for="issue-not-mobile" data-es="No funciona bien en móvil" data-en="Doesn't work well on mobile">Doesn't work well on mobile</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-links" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-links" data-en="Missing clickable links to tools" data-es="Faltan enlaces clicables a herramientas">Missing clickable links to tools</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-save" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-save" data-en="Progress doesn't save automatically" data-es="El progreso no se guarda automáticamente">Progress doesn't save automatically</label>
                                </div>
                            </div>

                            <!-- Content & Task Issues -->
                            <div class="issue-category">
                                <h4 data-en="📝 Content & Task Issues" data-es="📝 Problemas de Contenido y Tareas">📝 Content & Task Issues</h4>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-vague-tasks" onchange="updateOptimizationPrompt()">
                                    <label for="issue-vague-tasks" data-en="Tasks are too vague or unclear" data-es="Las tareas son muy vagas o poco claras">Tasks are too vague or unclear</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-steps" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-steps" data-en="Tasks don't have detailed step-by-step instructions" data-es="Las tareas no tienen instrucciones detalladas paso a paso">Tasks don't have detailed step-by-step instructions</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-templates" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-templates" data-en="Missing copy-paste templates and scripts" data-es="Faltan plantillas y scripts para copiar y pegar">Missing copy-paste templates and scripts</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-wrong-timeframe" onchange="updateOptimizationPrompt()">
                                    <label for="issue-wrong-timeframe" data-en="Timeframe doesn't match my availability" data-es="El cronograma no coincide con mi disponibilidad">Timeframe doesn't match my availability</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-too-advanced" onchange="updateOptimizationPrompt()">
                                    <label for="issue-too-advanced" data-en="Tasks are too advanced for my skill level" data-es="Las tareas son muy avanzadas para mi nivel de habilidad">Tasks are too advanced for my skill level</label>
                                </div>
                            </div>

                            <!-- Business & Strategy Issues -->
                            <div class="issue-category">
                                <h4 data-en="💼 Business & Strategy Issues" data-es="💼 Problemas de Negocio y Estrategia">💼 Business & Strategy Issues</h4>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-wrong-business" onchange="updateOptimizationPrompt()">
                                    <label for="issue-wrong-business" data-en="Calendar is for wrong business type" data-es="El calendario es para el tipo de negocio incorrecto">Calendar is for wrong business type</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-validation" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-validation" data-en="Missing market validation steps" data-es="Faltan pasos de validación de mercado">Missing market validation steps</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-unrealistic-income" onchange="updateOptimizationPrompt()">
                                    <label for="issue-unrealistic-income" data-en="Income timeline seems unrealistic" data-es="El cronograma de ingresos parece poco realista">Income timeline seems unrealistic</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-missing-costs" onchange="updateOptimizationPrompt()">
                                    <label for="issue-missing-costs" data-en="Missing tool costs and pricing info" data-es="Faltan costos de herramientas e información de precios">Missing tool costs and pricing info</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-no-family-time" onchange="updateOptimizationPrompt()">
                                    <label for="issue-no-family-time" data-en="Doesn't account for family time/interruptions" data-es="No tiene en cuenta el tiempo familiar/interrupciones">Doesn't account for family time/interruptions</label>
                                </div>
                            </div>

                            <!-- Language & Localization Issues -->
                            <div class="issue-category">
                                <h4 data-en="🌍 Language & Format Issues" data-es="🌍 Problemas de Idioma y Formato">🌍 Language & Format Issues</h4>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-wrong-language" onchange="updateOptimizationPrompt()">
                                    <label for="issue-wrong-language" data-en="Calendar is in wrong language" data-es="El calendario está en el idioma incorrecto">Calendar is in wrong language</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-mixed-language" onchange="updateOptimizationPrompt()">
                                    <label for="issue-mixed-language" data-en="Mixed languages (some English, some Spanish)" data-es="Idiomas mezclados (algo en inglés, algo en español)">Mixed languages (some English, some Spanish)</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-wrong-timezone" onchange="updateOptimizationPrompt()">
                                    <label for="issue-wrong-timezone" data-en="Wrong time zone or scheduling format" data-es="Zona horaria incorrecta o formato de programación">Wrong time zone or scheduling format</label>
                                </div>
                                
                                <div class="issue-checkbox">
                                    <input type="checkbox" id="issue-cultural" onchange="updateOptimizationPrompt()">
                                    <label for="issue-cultural" data-en="Doesn't fit my cultural/family context" data-es="No se adapta a mi contexto cultural/familiar">Doesn't fit my cultural/family context</label>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Notes -->
                        <div class="issue-notes">
                            <label data-en="Additional Details About Your Issues:" data-es="Detalles Adicionales Sobre Tus Problemas:">Additional Details About Your Issues:</label>
                            <textarea 
                                id="issue-details" 
                                onchange="updateOptimizationPrompt()"
                                data-en-placeholder="Describe any specific problems not covered above. Be as detailed as possible - the more specific you are, the better the solution will be."
                                data-es-placeholder="Describe cualquier problema específico no cubierto arriba. Sé lo más detallada posible - cuanto más específica seas, mejor será la solución."
                                placeholder="Describe any specific problems not covered above. Be as detailed as possible - the more specific you are, the better the solution will be."></textarea>
                        </div>

                        <button onclick="updateOptimizationPrompt()" class="update-prompt-btn" data-en="🔄 Update Troubleshooting Prompt" data-es="🔄 Actualizar Prompt de Solución">🔄 Update Troubleshooting Prompt</button>
                    </div>

                    <div class="prompt-container">
                        <div class="prompt-header">
                            <h4 data-en="Your Personalized Troubleshooting Prompt:" data-es="Tu Prompt Personalizado de Solución:">Your Personalized Troubleshooting Prompt:</h4>
                            <button onclick="copyToClipboard(document.getElementById('optimization-prompts').textContent, this)" class="copy-btn" data-en="📋 Copy Prompt" data-es="📋 Copiar Prompt">📋 Copy Prompt</button>
                        </div>
                        <div id="optimization-prompts" class="prompt-text"></div>
                    </div>

                    <div style="margin-top: 30px;">
                        <h4 data-en="📝 After getting the updated calendar:" data-es="📝 Después de obtener el calendario actualizado:">📝 After getting the updated calendar:</h4>
                        <p data-en="Follow the same saving instructions from Step 4 to save your improved calendar." data-es="Sigue las mismas instrucciones de guardado del Paso 4 para guardar tu calendario mejorado.">Follow the same saving instructions from Step 4 to save your improved calendar.</p>
                        <button onclick="goToStep(5)" class="btn btn-success" data-en="✅ Complete Your Journey" data-es="✅ Completar Tu Jornada">✅ Complete Your Journey</button>
                    </div>
                </div>

                <!-- Step 5: Completion -->
                <div id="step-5" class="step-content">
                    <div class="completion-section">
                        <h2 data-en="🎉 Congratulations!" data-es="🎉 ¡Felicidades!">🎉 Congratulations!</h2>
                        <p data-en="You've completed the Smart Mom Method! You now have a personalized business plan designed specifically for your life as a busy mom." data-es="¡Has completado el Método Mamá Inteligente! Ahora tienes un plan de negocios personalizado diseñado específicamente para tu vida como madre ocupada.">You've completed the Smart Mom Method! You now have a personalized business plan designed specifically for your life as a busy mom.</p>
                        
                        <div style="margin: 30px 0;">
                            <h3 data-en="📋 What You've Accomplished:" data-es="📋 Lo Que Has Logrado:">📋 What You've Accomplished:</h3>
                            <div style="text-align: left; max-width: 600px; margin: 20px auto;">
                                <div data-en="✅ Discovered business ideas that fit YOUR specific situation" data-es="✅ Descubriste ideas de negocio que se adaptan a TU situación específica">✅ Discovered business ideas that fit YOUR specific situation</div>
                                <div data-en="✅ Validated your chosen idea with market research" data-es="✅ Validaste tu idea elegida con investigación de mercado">✅ Validated your chosen idea with market research</div>
                                <div data-en="✅ Created an interactive calendar with daily action steps" data-es="✅ Creaste un calendario interactivo con pasos de acción diarios">✅ Created an interactive calendar with daily action steps</div>
                                <div data-en="✅ Have optimization prompts for future challenges" data-es="✅ Tienes prompts de optimización para futuros desafíos">✅ Have optimization prompts for future challenges</div>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <h3 data-en="🚀 Next Steps:" data-es="🚀 Siguientes Pasos:">🚀 Next Steps:</h3>
                            <div style="text-align: left; max-width: 600px; margin: 20px auto;">
                                <div data-en="1. Follow your interactive calendar daily" data-es="1. Sigue tu calendario interactivo diariamente">1. Follow your interactive calendar daily</div>
                                <div data-en="2. Start with the first week's tasks immediately" data-es="2. Comienza con las tareas de la primera semana inmediatamente">2. Start with the first week's tasks immediately</div>
                                <div data-en="3. Use the optimization prompts when you encounter obstacles" data-es="3. Usa los prompts de optimización cuando encuentres obstáculos">3. Use the optimization prompts when you encounter obstacles</div>
                                <div data-en="4. Remember: progress over perfection!" data-es="4. Recuerda: ¡progreso sobre perfección!">4. Remember: progress over perfection!</div>
                            </div>
                        </div>

                        <button onclick="saveWorkflowData()" class="btn btn-success" style="margin: 20px;">
                            <span data-en="💾 Download Workflow Data" data-es="💾 Descargar Datos del Flujo">💾 Download Workflow Data</span>
                        </button>

                        <div style="margin-top: 40px; padding-top: 30px; border-top: 2px solid #e5e7eb;">
                            <p data-en="You're amazing for taking this step toward your entrepreneurial journey. Remember, every successful business started with someone just like you taking the first step." data-es="Eres increíble por dar este paso hacia tu jornada empresarial. Recuerda, todo negocio exitoso comenzó con alguien como tú dando el primer paso.">You're amazing for taking this step toward your entrepreneurial journey. Remember, every successful business started with someone just like you taking the first step.</p>
                            <p data-en="You've got this, super mom! 💪✨" data-es="¡Tú puedes, súper mamá! 💪✨">You've got this, super mom! 💪✨</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let currentLanguage = 'en';
        let selectedWorkflow = 'multi';
        let workflowData = {};

        // Enhanced safe utility functions to prevent errors
        function safeClassList(element) {
            if (!element || typeof element !== 'object' || !element.classList) {
                return {
                    add: () => {},
                    remove: () => {},
                    toggle: () => {},
                    contains: () => false
                };
            }
            return {
                add: (className) => {
                    try {
                        element.classList.add(className);
                    } catch (e) {
                        console.log('ClassList add error prevented:', e.message);
                    }
                },
                remove: (className) => {
                    try {
                        element.classList.remove(className);
                    } catch (e) {
                        console.log('ClassList remove error prevented:', e.message);
                    }
                },
                toggle: (className) => {
                    try {
                        return element.classList.toggle(className);
                    } catch (e) {
                        console.log('ClassList toggle error prevented:', e.message);
                        return false;
                    }
                },
                contains: (className) => {
                    try {
                        return element.classList.contains(className);
                    } catch (e) {
                        console.log('ClassList contains error prevented:', e.message);
                        return false;
                    }
                }
            };
        }

        function safeGetElement(id) {
            try {
                return document.getElementById(id);
            } catch (e) {
                console.log('Element access error prevented:', e.message);
                return null;
            }
        }

        function safeQuerySelector(selector) {
            try {
                return document.querySelector(selector);
            } catch (e) {
                console.log('QuerySelector error prevented:', e.message);
                return null;
            }
        }

        function safeQuerySelectorAll(selector) {
            try {
                return document.querySelectorAll(selector) || [];
            } catch (e) {
                console.log('QuerySelectorAll error prevented:', e.message);
                return [];
            }
        }

        // Navigation function for clickable progress steps
        function goToStep(stepNumber) {
            try {
                // Save current data before switching steps
                saveWorkflowData();
                
                // Update current step
                currentStep = stepNumber;
                
                // Show/hide appropriate content
                const steps = safeQuerySelectorAll('.step-content');
                steps.forEach((step, index) => {
                    const stepElement = safeGetElement(`step-${index}`);
                    if (stepElement) {
                        stepElement.style.display = index === stepNumber ? 'block' : 'none';
                    }
                });
                
                // Update progress bar
                updateProgressBar();
                
                // Update window hash for bookmarking
                window.location.hash = `step-${stepNumber}`;
                
                console.log(`Navigated to step ${stepNumber}`);
            } catch (error) {
                console.log('Navigation error prevented:', error.message);
            }
        }

        // Enhanced copy to clipboard function
        async function copyToClipboard(text, buttonElement) {
            try {
                // Try modern clipboard API first
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(text);
                    showCopySuccess(buttonElement);
                    return true;
                } else {
                    // Fallback method for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    textArea.style.top = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    if (successful) {
                        showCopySuccess(buttonElement);
                        return true;
                    } else {
                        throw new Error('Copy command failed');
                    }
                }
            } catch (error) {
                console.log('Copy failed, showing manual instruction:', error);
                showManualCopyInstruction(text, buttonElement);
                return false;
            }
        }
        
        function showCopySuccess(buttonElement) {
            if (!buttonElement) return;
            
            const originalText = buttonElement.innerHTML;
            buttonElement.innerHTML = '✅ ' + (currentLanguage === 'es' ? 'Copiado' : 'Copied') + '!';
            buttonElement.style.background = '#10B981';
            
            setTimeout(() => {
                buttonElement.innerHTML = originalText;
                buttonElement.style.background = '';
            }, 2000);
        }
        
        function showManualCopyInstruction(text, buttonElement) {
            // Create a modal or popup for manual copy
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 20px;
                border-radius: 10px;
                max-width: 80%;
                max-height: 80%;
                overflow: auto;
            `;
            
            content.innerHTML = `
                <h3>${currentLanguage === 'es' ? 'Copiar Manualmente' : 'Copy Manually'}</h3>
                <p>${currentLanguage === 'es' ? 'Selecciona todo el texto y copia (Ctrl+C):' : 'Select all text and copy (Ctrl+C):'}</p>
                <textarea readonly style="width: 100%; height: 200px; margin: 10px 0;">${text}</textarea>
                <button onclick="this.parentElement.parentElement.remove()" style="padding: 10px 20px; background: #2563EB; color: white; border: none; border-radius: 5px; cursor: pointer;">
                    ${currentLanguage === 'es' ? 'Cerrar' : 'Close'}
                </button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // Auto-select the text
            const textarea = content.querySelector('textarea');
            textarea.focus();
            textarea.select();
        }

        function changeLanguage(lang) {
            try {
                currentLanguage = lang;
                
                // Update language button states
                const langButtons = safeQuerySelectorAll('.language-btn');
                langButtons.forEach(btn => {
                    safeClassList(btn).remove('active');
                });
                
                const activeBtn = safeGetElement(`lang-${lang}`);
                if (activeBtn) {
                    safeClassList(activeBtn).add('active');
                }
                
                // Update all translatable content
                const translatableElements = safeQuerySelectorAll('[data-en][data-es]');
                translatableElements.forEach(element => {
                    const translation = element.getAttribute(`data-${lang}`);
                    if (translation) {
                        element.textContent = translation;
                    }
                });
                
                // Update placeholders
                const placeholderElements = safeQuerySelectorAll(`[data-${lang}-placeholder]`);
                placeholderElements.forEach(element => {
                    const placeholder = element.getAttribute(`data-${lang}-placeholder`);
                    if (placeholder) {
                        element.placeholder = placeholder;
                    }
                });
                
                // Update dropdown options
                updateDropdownOptions();
                
                // Update optimization prompt if we're on that step
                if (currentStep === 4) {
                    updateOptimizationPrompt();
                }
                
                console.log(`Language changed to ${lang}`);
            } catch (error) {
                console.log('Language change error prevented:', error.message);
            }
        }

        function updateDropdownOptions() {
            try {
                const dropdownData = {
                    'work-status': {
                        en: [
                            { value: '', text: 'Select your situation...' },
                            { value: 'stay-at-home', text: 'Stay-at-home super mom' },
                            { value: 'part-time', text: 'Working part-time' },
                            { value: 'full-time', text: 'Working full-time' },
                            { value: 'unemployed', text: 'Recently unemployed/looking' },
                            { value: 'student', text: 'Student/in school' }
                        ],
                        es: [
                            { value: '', text: 'Selecciona tu situación...' },
                            { value: 'stay-at-home', text: 'Súper madre de tiempo completo' },
                            { value: 'part-time', text: 'Trabajando medio tiempo' },
                            { value: 'full-time', text: 'Trabajando tiempo completo' },
                            { value: 'unemployed', text: 'Recientemente desempleada/buscando' },
                            { value: 'student', text: 'Estudiante/en la escuela' }
                        ]
                    },
                    'energy-pattern': {
                        en: [
                            { value: '', text: 'When do you feel most productive?' },
                            { value: 'morning', text: 'Morning person (6am-12pm)' },
                            { value: 'afternoon', text: 'Afternoon person (12pm-6pm)' },
                            { value: 'evening', text: 'Evening person (6pm-10pm)' },
                            { value: 'night', text: 'Night owl (after 10pm)' },
                            { value: 'flexible', text: 'Flexible/varies by day' }
                        ],
                        es: [
                            { value: '', text: '¿Cuándo te sientes más productiva?' },
                            { value: 'morning', text: 'Persona matutina (6am-12pm)' },
                            { value: 'afternoon', text: 'Persona vespertina (12pm-6pm)' },
                            { value: 'evening', text: 'Persona nocturna (6pm-10pm)' },
                            { value: 'night', text: 'Búho nocturno (después de 10pm)' },
                            { value: 'flexible', text: 'Flexible/varía por día' }
                        ]
                    },
                    'tech-comfort': {
                        en: [
                            { value: '', text: 'How comfortable are you with technology?' },
                            { value: 'beginner', text: 'Beginner (basics only)' },
                            { value: 'intermediate', text: 'Intermediate (comfortable learning)' },
                            { value: 'advanced', text: 'Advanced (love trying new tools)' }
                        ],
                        es: [
                            { value: '', text: '¿Qué tan cómoda estás con la tecnología?' },
                            { value: 'beginner', text: 'Principiante (solo lo básico)' },
                            { value: 'intermediate', text: 'Intermedio (cómoda aprendiendo)' },
                            { value: 'advanced', text: 'Avanzado (me encanta probar nuevas herramientas)' }
                        ]
                    },
                    'camera-comfort': {
                        en: [
                            { value: '', text: 'How do you feel about video content?' },
                            { value: 'love-it', text: 'Love it, very comfortable' },
                            { value: 'comfortable', text: 'Comfortable doing videos' },
                            { value: 'nervous', text: 'Nervous but willing to try' },
                            { value: 'prefer-not', text: 'Prefer not to be on camera' }
                        ],
                        es: [
                            { value: '', text: '¿Cómo te sientes sobre el contenido en video?' },
                            { value: 'love-it', text: 'Me encanta, muy cómoda' },
                            { value: 'comfortable', text: 'Cómoda estando en video' },
                            { value: 'nervous', text: 'Nerviosa pero dispuesta a intentar' },
                            { value: 'prefer-not', text: 'Prefiero no estar en cámara' }
                        ]
                    },
                    'income-timeline': {
                        en: [
                            { value: '', text: 'When do you need to start making money?' },
                            { value: 'immediately', text: 'Need income immediately' },
                            { value: '3-months', text: 'Need income in 3 months' },
                            { value: '6-months', text: 'Can wait 6 months for income' },
                            { value: '1-year', text: 'Building for the long term (1+ years)' }
                        ],
                        es: [
                            { value: '', text: '¿Cuándo necesitas empezar a ganar dinero?' },
                            { value: 'immediately', text: 'Necesito ingresos inmediatamente' },
                            { value: '3-months', text: 'Necesito ingresos en 3 meses' },
                            { value: '6-months', text: 'Puedo esperar 6 meses por ingresos' },
                            { value: '1-year', text: 'Construyendo a largo plazo (1+ años)' }
                        ]
                    },
                    'work-hours': {
                        en: [
                            { value: '', text: 'How much time can you realistically dedicate?' },
                            { value: '1-2-hours', text: '1-2 hours per day' },
                            { value: '2-4-hours', text: '2-4 hours per day' },
                            { value: '4-6-hours', text: '4-6 hours per day' },
                            { value: '6-plus-hours', text: '6+ hours per day' },
                            { value: 'irregular', text: 'Irregular schedule' }
                        ],
                        es: [
                            { value: '', text: '¿Cuánto tiempo puedes dedicar realísticamente?' },
                            { value: '1-2-hours', text: '1-2 horas por día' },
                            { value: '2-4-hours', text: '2-4 horas por día' },
                            { value: '4-6-hours', text: '4-6 horas por día' },
                            { value: '6-plus-hours', text: '6+ horas por día' },
                            { value: 'irregular', text: 'Horario irregular' }
                        ]
                    },
                    'budget': {
                        en: [
                            { value: '', text: 'How much can you invest to start?' },
                            { value: '0', text: '$0 - completely free to start' },
                            { value: 'under-100', text: 'Under $100' },
                            { value: '100-500', text: '$100-$500' },
                            { value: '500-1000', text: '$500-$1,000' },
                            { value: '1000-plus', text: '$1,000+' }
                        ],
                        es: [
                            { value: '', text: '¿Cuánto puedes invertir para empezar?' },
                            { value: '0', text: '$0 - completamente gratis para empezar' },
                            { value: 'under-100', text: 'Menos de $100' },
                            { value: '100-500', text: '$100-$500' },
                            { value: '500-1000', text: '$500-$1,000' },
                            { value: '1000-plus', text: '$1,000+' }
                        ]
                    }
                };

                // Update each dropdown
                Object.keys(dropdownData).forEach(dropdownId => {
                    const dropdown = safeGetElement(dropdownId);
                    if (dropdown) {
                        const currentValue = dropdown.value;
                        const options = dropdownData[dropdownId][currentLanguage];
                        
                        dropdown.innerHTML = '';
                        options.forEach(option => {
                            const optionElement = document.createElement('option');
                            optionElement.value = option.value;
                            optionElement.textContent = option.text;
                            dropdown.appendChild(optionElement);
                        });
                        
                        // Restore previous selection
                        dropdown.value = currentValue;
                    }
                });
            } catch (error) {
                console.log('Dropdown update error prevented:', error.message);
            }
        }

        function selectWorkflow(type) {
            try {
                selectedWorkflow = type;
                
                // Update visual selection
                const options = safeQuerySelectorAll('.workflow-option');
                options.forEach(option => {
                    safeClassList(option).remove('selected');
                });
                
                const selectedOption = safeGetElement(`workflow-${type}`);
                if (selectedOption) {
                    safeClassList(selectedOption).add('selected');
                }
                
                console.log(`Workflow selected: ${type}`);
            } catch (error) {
                console.log('Workflow selection error prevented:', error.message);
            }
        }

        function collectInformation() {
            try {
                // Show processing status
                updateStatusIndicator('data-collected-status', 'processing', 
                    currentLanguage === 'es' ? 'Procesando tu información...' : 'Processing your information...');
                
                const formData = collectFormData();
                
                // Validate required fields
                const requiredFields = ['familyStructure', 'workStatus', 'skills'];
                const missingFields = requiredFields.filter(field => !formData[field] || formData[field].trim() === '');
                
                if (missingFields.length > 0) {
                    updateStatusIndicator('data-collected-status', 'error', 
                        currentLanguage === 'es' ? 'Por favor completa todos los campos requeridos' : 'Please complete all required fields');
                    return;
                }
                
                // Show success status
                updateStatusIndicator('data-collected-status', 'success', 
                    currentLanguage === 'es' ? '✅ Información procesada exitosamente' : '✅ Information processed successfully');
                
                // Store data and proceed
                saveWorkflowData();
                
                // Generate prompts with processing feedback
                setTimeout(() => {
                    generateChatGPTPrompt(formData);
                    generateGeminiPrompt(formData);
                    generateClaudePrompt(formData);
                    
                    // Move to next step
                    goToStep(1);
                    
                    // Show completion message
                    showProcessingComplete();
                }, 1000);
                
            } catch (error) {
                console.log('Collection error prevented:', error.message);
                updateStatusIndicator('data-collected-status', 'error', 
                    currentLanguage === 'es' ? 'Error al procesar información' : 'Error processing information');
            }
        }
        
        function updateStatusIndicator(elementId, status, message) {
            const indicator = safeGetElement(elementId);
            if (!indicator) return;
            
            const statusElement = indicator.querySelector('.status-indicator');
            if (!statusElement) return;
            
            // Remove existing status classes
            statusElement.classList.remove('status-success', 'status-processing', 'status-error');
            
            // Add new status class
            statusElement.classList.add(`status-${status}`);
            
            // Update icon and text
            const icon = statusElement.querySelector('.status-icon');
            const text = statusElement.querySelector('.status-text');
            
            if (icon && text) {
                switch(status) {
                    case 'processing':
                        icon.textContent = '⏳';
                        break;
                    case 'success':
                        icon.textContent = '✅';
                        break;
                    case 'error':
                        icon.textContent = '❌';
                        break;
                    default:
                        icon.textContent = '⏳';
                }
                text.textContent = message;
            }
        }
        
        function showProcessingComplete() {
            // Show a brief success message
            const message = currentLanguage === 'es' ? 
                '🎉 ¡Tus prompts personalizados están listos!' : 
                '🎉 Your personalized prompts are ready!';
                
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                font-weight: bold;
                z-index: 9999;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function collectFormData() {
            try {
                const fields = [
                    'family-structure', 'daily-schedule', 'work-status', 'energy-pattern',
                    'skills', 'talents', 'help-requests', 'tech-comfort', 'social-platforms',
                    'camera-comfort', 'income-timeline', 'work-hours', 'income-goal',
                    'budget', 'passionate-topics', 'mom-problems', 'motivation'
                ];
                
                const formData = {};
                fields.forEach(field => {
                    const element = safeGetElement(field);
                    if (element) {
                        const key = field.replace(/-([a-z])/g, (g) => g[1].toUpperCase());
                        formData[key] = element.value || '';
                    }
                });
                
                // Add additional data
                formData.language = currentLanguage;
                formData.workflow = selectedWorkflow;
                formData.timestamp = new Date().toISOString();
                
                return formData;
            } catch (error) {
                console.log('Form data collection error prevented:', error.message);
                return {};
            }
        }

        function generateChatGPTPrompt(formData) {
            try {
                const langPrefix = currentLanguage === 'es' ? 
                    'Responde completamente en español. ' : 
                    'Respond completely in English. ';

                const prompt = `${langPrefix}I'm a busy mom looking to start a business that fits my specific life situation. Here's my detailed information:

**Family & Schedule:**
${formData.familyStructure || 'Not specified'}

**Daily Availability:**
${formData.dailySchedule || 'Not specified'}

**Current Work Status:** ${formData.workStatus || 'Not specified'}
**Energy Patterns:** ${formData.energyPattern || 'Not specified'}

**Skills & Experience:**
${formData.skills || 'Not specified'}

**Natural Talents:**
${formData.talents || 'Not specified'}

**What Others Ask Me For Help With:**
${formData.helpRequests || 'Not specified'}

**Technology Comfort:** ${formData.techComfort || 'Not specified'}
**Social Media Use:** ${formData.socialPlatforms || 'Not specified'}
**Camera Comfort:** ${formData.cameraComfort || 'Not specified'}

**Business Goals:**
- Income Timeline: ${formData.incomeTimeline || 'Not specified'}
- Available Work Hours: ${formData.workHours || 'Not specified'}
- Income Goal: ${formData.incomeGoal || 'Not specified'}
- Available Budget: ${formData.budget || 'Not specified'}

**Passions & Motivation:**
- Topics I Love: ${formData.passionateTopics || 'Not specified'}
- Problems I See Other Moms Having: ${formData.momProblems || 'Not specified'}
- Why This Matters to Me: ${formData.motivation || 'Not specified'}

Based on this information, please provide 3-5 specific business ideas that:
1. Actually fit my time constraints and family schedule
2. Match my current skill level and tech comfort
3. Can realistically achieve my income goals within my timeline
4. Consider my available budget and resources
5. Leverage what I'm passionate about and what others already ask me for help with

For each business idea, include:
- Specific business model explanation
- How it fits my schedule and constraints
- Realistic income potential and timeline
- Required skills/tools (and what I'd need to learn)
- First 3 steps to validate the idea
- Why this makes sense for my specific situation

Be specific and practical - I need ideas that work for real mom life, not generic business advice.`;

                const promptElement = safeGetElement('chatgpt-prompt');
                if (promptElement) {
                    promptElement.textContent = prompt;
                }
            } catch (error) {
                console.log('ChatGPT prompt generation error prevented:', error.message);
            }
        }

        function generateGeminiPrompt(formData) {
            try {
                const langPrefix = currentLanguage === 'es' ? 
                    'Responde completamente en español. ' : 
                    'Respond completely in English. ';

                const chatGPTResponse = safeGetElement('chatgpt-response');
                const businessIdeas = chatGPTResponse ? chatGPTResponse.value : '[Paste your ChatGPT business recommendations here]';

                const prompt = `${langPrefix}Please use DEEP RESEARCH mode for this request.

I'm a busy mom who used ChatGPT to generate business ideas based on my specific situation. Now I need to validate these ideas thoroughly before investing time and energy.

**My Situation Summary:**
- Family Structure: ${formData.familyStructure || 'Not specified'}
- Available Time: ${formData.workHours || 'Not specified'}
- Income Goal: ${formData.incomeGoal || 'Not specified'}
- Budget: ${formData.budget || 'Not specified'}
- Skills: ${formData.skills || 'Not specified'}
- Tech Comfort: ${formData.techComfort || 'Not specified'}

**Business Ideas from ChatGPT:**
${businessIdeas}

I need you to research and validate the most promising business idea from the list above. Please provide:

**Market Validation:**
1. Is there real demand for this service/product?
2. Who exactly is the target customer? (Be specific - demographics, psychographics, where they hang out online)
3. What's the market size and competition landscape?
4. What are customers currently paying for similar solutions?

**Feasibility Analysis:**
1. Given my time constraints (${formData.workHours}), is this realistic?
2. What are the real startup costs beyond the obvious ones?
3. What skills would I need to develop, and how long would that take?
4. What are the biggest risks and potential failure points?

**MVP Strategy:**
1. What's the absolute minimum viable version I could launch?
2. How can I test demand before building anything substantial?
3. What would be 3 specific validation experiments I could run in the next 2 weeks?
4. How would I know if there's genuine market demand vs. people just being polite?

**Revenue Reality Check:**
1. What's a realistic timeline to reach my income goal of ${formData.incomeGoal}?
2. What would the pricing structure look like?
3. How many customers/clients would I need at different price points?
4. What are the ongoing costs I need to factor in?

**Next Steps:**
If validation looks positive, what should my first 30 days look like?

Please be brutally honest - I'd rather know now if an idea won't work than find out after months of effort. I need practical, mom-life-friendly advice, not generic business theory.`;

                const promptElement = safeGetElement('gemini-prompt');
                if (promptElement) {
                    promptElement.textContent = prompt;
                }
            } catch (error) {
                console.log('Gemini prompt generation error prevented:', error.message);
            }
        }

        function generateClaudePrompt(formData) {
            try {
                const langPrefix = currentLanguage === 'es' ? 
                    'Crea todo el contenido completamente en español. ' : 
                    'Create all content completely in English. ';

                const chatGPTResponse = safeGetElement('chatgpt-response');
                const geminiResponse = safeGetElement('gemini-response');
                
                const businessIdeas = chatGPTResponse ? chatGPTResponse.value : '[Paste your ChatGPT business recommendations here]';
                const validationData = geminiResponse ? geminiResponse.value : '[Paste your Gemini validation analysis here]';

                const prompt = `${langPrefix}I need you to create a comprehensive interactive HTML calendar that provides complete hand-holding guidance for launching my validated business idea. This must be a visual CALENDAR GRID layout, not a list format.

**CRITICAL REQUIREMENTS:**
- Create an interactive HTML calendar with a proper calendar grid layout (like Google Calendar)
- Must be visually organized with calendar month/week views
- Every single day must be filled with specific tasks (NO empty days)
- All 84 days (12 weeks) must be completely detailed
- Include progress tracking, auto-save functionality, and mobile responsiveness

**My Situation:**
- Family Structure: ${formData.familyStructure || 'Not specified'}
- Available Work Time: ${formData.workHours || 'Not specified'} 
- Energy Pattern: ${formData.energyPattern || 'Not specified'}
- Tech Comfort: ${formData.techComfort || 'Not specified'}
- Income Goal: ${formData.incomeGoal || 'Not specified'}
- Budget: ${formData.budget || 'Not specified'}
- Timeline: ${formData.incomeTimeline || 'Not specified'}

**Business Ideas from ChatGPT:**
${businessIdeas}

**Validation Analysis from Gemini:**
${validationData}

**Calendar Requirements:**

**Visual Layout:**
- Interactive calendar grid interface (NOT a list or timeline)
- Month and week view options
- Color-coded task categories
- Progress bars and completion tracking
- Mobile-responsive design

**Task Detail Level:**
Every task must include:
1. 5-15 specific numbered steps (no vague instructions)
2. Direct clickable links to every tool mentioned
3. Exact pricing: "FREE" or "$X/month" with free alternatives when possible
4. Exact time estimates (e.g., "30 minutes", "2 hours")
5. Expected outcomes and success metrics
6. Troubleshooting tips for common obstacles
7. Copy-paste templates and scripts
8. Notes section for each task with auto-save

**Tool Integration:**
- Every tool must include direct URL links
- Setup time estimates
- Step-by-step account creation instructions
- Free vs. paid tier explanations
- Alternative tools if budget is $0

**Interactive Features:**
- Expandable task descriptions
- Checkbox completion tracking
- Progress visualization
- Export to HTML functionality
- Auto-save every 10 seconds
- Notes section for each day

**Complete 12-Week Structure:**
- Week 1-2: Foundation and setup
- Week 3-4: Content creation and initial outreach  
- Week 5-6: Launch and first customers
- Week 7-8: Optimization and scaling
- Week 9-10: Systems and automation
- Week 11-12: Growth and expansion

**Mandatory Standards:**
- ZERO empty days - every single day gets 4-8 specific tasks
- All templates must be fully written out (no placeholders)
- Beginner-friendly language (explain all business terms)
- Mom-life considerations (tasks fit around kids' schedules)
- Realistic expectations and encouragement throughout

**Quality Control:**
Before finalizing, ensure:
- Every day has specific, actionable tasks
- All links work and tools are properly explained  
- Templates are complete and customized to my business
- Progress tracking is functional
- Mobile interface works perfectly

Create this as a complete, professional-grade interactive calendar that I can use as my daily business launch guide. This should be the comprehensive resource that takes me from idea to profitable business in 12 weeks.`;

                const promptElement = safeGetElement('claude-prompt');
                if (promptElement) {
                    promptElement.textContent = prompt;
                }
            } catch (error) {
                console.log('Claude prompt generation error prevented:', error.message);
            }
        }

        function generateOptimizationPrompts() {
            try {
                const langPrefix = currentLanguage === 'es' ? 
                    'Responde completamente en español. ' : 
                    'Respond completely in English. ';

                const prompts = `${langPrefix}**OPTIMIZATION PROMPTS - Use these when you encounter specific challenges:**

**When You're Stuck on Content Creation:**
"I'm struggling to create content for my [specific business type]. My target audience is [describe your ideal customer] and I have [time constraint]. I'm good at [your strengths] but struggle with [specific challenge]. Can you give me 10 specific content ideas I can create in under 30 minutes each, including the exact format and where to post them?"

**When You're Not Getting Customers:**
"I've been trying to get customers for my [business type] for [time period] by [what you've tried]. My ideal customer is [description] and my offer is [details]. I'm not getting the response I expected. Can you analyze what might be wrong and give me 5 different approaches to try this week?"

**When You're Overwhelmed:**
"I have too much to do and not enough time. My business tasks include [list everything] and my family situation is [your constraints]. I'm feeling overwhelmed and don't know what to prioritize. Can you help me create a realistic weekly schedule that focuses on the highest-impact activities only?"

**When You Need to Raise Your Prices:**
"I'm undercharging for my [service/product]. I currently charge [current price] but I think I should charge [desired price]. I'm scared to lose customers. Can you help me create a strategy to raise prices, including exactly what to say to existing customers and how to position the value?"

**When Technology is Confusing:**
"I need to set up [specific tool/platform] for my business but I'm not tech-savvy. I tried [what you attempted] but got confused at [specific step]. Can you give me a step-by-step tutorial like I'm explaining it to someone who's never used [technology] before?"

**When You're Ready to Scale:**
"My business is working! I'm making [current income] and want to reach [goal income]. My current process is [describe how you work now]. What specific changes should I make to scale without working more hours? Give me a priority order for the next 3 months."

**When Family Life is Interfering:**
"My business is growing but it's impacting my family time. My current schedule is [describe] and my family situation is [describe]. How can I better balance business growth with being present for my family? I need specific time management strategies."

**When You Need Marketing Help:**
"I'm not good at marketing myself. I feel uncomfortable with self-promotion and don't know what to post on social media. My business is [description] and my personality is [introverted/extroverted/etc]. Can you give me a marketing approach that feels authentic and sustainable for someone like me?"`;

                const promptElement = safeGetElement('optimization-prompts');
                if (promptElement) {
                    promptElement.textContent = prompts;
                }
            } catch (error) {
                console.log('Optimization prompts generation error prevented:', error.message);
            }
        }

        function updateOptimizationPrompt() {
            try {
                const langPrefix = currentLanguage === 'es' ? 
                    'Responde completamente en español. ' : 
                    'Respond completely in English. ';

                // Get form data for context
                const formData = collectFormData();
                
                // Get selected issues
                const selectedIssues = [];
                const issueElements = safeQuerySelectorAll('.issue-checkbox input[type="checkbox"]:checked');
                
                issueElements.forEach(checkbox => {
                    const label = checkbox.parentElement.querySelector('label');
                    if (label) {
                        const issueText = currentLanguage === 'es' ? 
                            label.getAttribute('data-es') || label.textContent :
                            label.getAttribute('data-en') || label.textContent;
                        selectedIssues.push(`- ${issueText}`);
                    }
                });

                // Get additional details
                const issueDetails = safeGetElement('issue-details');
                const additionalNotes = issueDetails ? issueDetails.value.trim() : '';

                // Get user responses for context
                const chatGPTResponse = safeGetElement('chatgpt-response');
                const geminiResponse = safeGetElement('gemini-response');
                const claudeResponse = safeGetElement('claude-response');

                const businessIdeas = chatGPTResponse ? chatGPTResponse.value : '';
                const validationData = geminiResponse ? geminiResponse.value : '';
                const calendarNotes = claudeResponse ? claudeResponse.value : '';

                // Generate dynamic prompt
                let prompt = `${langPrefix}I need help fixing issues with my business calendar that was generated using the Smart Mom Method. Here's my situation and the specific problems I'm experiencing:

**My Business Context:**
- Business Type: Based on ChatGPT recommendations
- Family Structure: ${formData.familyStructure || 'Not specified'}
- Available Time: ${formData.workHours || 'Not specified'}
- Tech Comfort Level: ${formData.techComfort || 'Not specified'}
- Income Goal: ${formData.incomeGoal || 'Not specified'}
- Available Budget: ${formData.budget || 'Not specified'}

**Original Business Ideas:**
${businessIdeas || '[Business ideas will be available after completing Step 2]'}

**Validation Analysis:**
${validationData || '[Validation data will be available after completing Step 3]'}

**Current Calendar Status:**
${calendarNotes || '[Calendar creation notes will be available after completing Step 4]'}`;

                if (selectedIssues.length > 0) {
                    prompt += `\n\n**SPECIFIC ISSUES I'M EXPERIENCING:**
${selectedIssues.join('\n')}`;
                }

                if (additionalNotes) {
                    prompt += `\n\n**ADDITIONAL DETAILS:**
${additionalNotes}`;
                }

                prompt += `\n\n**WHAT I NEED:**

1. **Fix the Calendar Issues:**
   - Provide a corrected/improved version of my business calendar
   - Ensure it addresses all the issues I've selected above
   - Make sure it's formatted as a proper interactive HTML calendar (not a list)
   - Include all 12 weeks with daily tasks and no empty days

2. **Technical Requirements:**
   - Interactive calendar grid layout (like Google Calendar)
   - Clickable links to all tools with exact pricing
   - Step-by-step instructions (5-15 steps per task)
   - Mobile-responsive design
   - Auto-save functionality
   - Copy-paste templates included

3. **Content Requirements:**
   - Tasks that fit my specific time availability: ${formData.workHours || 'Not specified'}
   - Appropriate for my tech level: ${formData.techComfort || 'Not specified'}
   - Realistic timeline for my income goal: ${formData.incomeGoal || 'Not specified'}
   - Budget-appropriate (my budget: ${formData.budget || 'Not specified'})

4. **Mom-Specific Considerations:**
   - Tasks that work around family schedules
   - Built-in flexibility for interruptions
   - Energy level considerations
   - Family-friendly work hours

Please provide a complete, corrected calendar that addresses these specific issues. If you need any clarification about my situation or the problems I'm experiencing, please ask specific questions.`;

                // If no issues selected, show default troubleshooting prompts
                if (selectedIssues.length === 0 && !additionalNotes) {
                    generateOptimizationPrompts();
                    return;
                }

                const promptElement = safeGetElement('optimization-prompts');
                if (promptElement) {
                    promptElement.textContent = prompt;
                }

                console.log('Dynamic optimization prompt updated');
            } catch (error) {
                console.log('Dynamic optimization prompt error prevented:', error.message);
                // Fallback to default prompts
                generateOptimizationPrompts();
            }
        }

        function updateProgressBar() {
            try {
                const steps = safeQuerySelectorAll('.progress-step');
                steps.forEach((step, index) => {
                    const stepClassList = safeClassList(step);
                    stepClassList.remove('active', 'completed');
                    
                    if (index < currentStep) {
                        stepClassList.add('completed');
                    } else if (index === currentStep) {
                        stepClassList.add('active');
                    }
                });
            } catch (error) {
                console.log('Progress bar update error prevented:', error.message);
            }
        }

        function saveWorkflowData() {
            try {
                workflowData = {
                    ...collectFormData(),
                    currentStep: currentStep,
                    language: currentLanguage,
                    workflow: selectedWorkflow,
                    responses: {
                        chatgpt: safeGetElement('chatgpt-response')?.value || '',
                        gemini: safeGetElement('gemini-response')?.value || '',
                        claude: safeGetElement('claude-response')?.value || ''
                    },
                    timestamp: new Date().toISOString()
                };

                // Save to localStorage for backup
                try {
                    localStorage.setItem('smartMomMethodData', JSON.stringify(workflowData));
                } catch (e) {
                    console.log('localStorage save failed:', e.message);
                }

                // Download functionality
                const dataStr = JSON.stringify(workflowData, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                
                // Create download link
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `smart-mom-method-${new Date().toISOString().split('T')[0]}.json`;
                
                // Auto-download
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                console.log('Workflow data saved and downloaded');
            } catch (error) {
                console.log('Save workflow data error prevented:', error.message);
            }
        }

        function importWorkflowData() {
            try {
                const fileInput = safeGetElement('import-file');
                if (!fileInput || !fileInput.files[0]) return;

                const file = fileInput.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        workflowData = data;

                        // Restore form values
                        Object.keys(data).forEach(key => {
                            const element = safeGetElement(key.replace(/([A-Z])/g, '-$1').toLowerCase());
                            if (element && data[key]) {
                                element.value = data[key];
                            }
                        });

                        // Restore responses
                        if (data.responses) {
                            Object.keys(data.responses).forEach(ai => {
                                const element = safeGetElement(`${ai}-response`);
                                if (element) {
                                    element.value = data.responses[ai];
                                }
                            });
                        }

                        // Restore language and workflow
                        if (data.language) {
                            changeLanguage(data.language);
                        }
                        if (data.workflow) {
                            selectWorkflow(data.workflow);
                        }

                        // Regenerate prompts with restored data
                        generateChatGPTPrompt(data);
                        generateGeminiPrompt(data);
                        generateClaudePrompt(data);
                        generateOptimizationPrompts();

                        alert(currentLanguage === 'es' ? 
                            '¡Datos importados exitosamente!' : 
                            'Data imported successfully!');
                    } catch (error) {
                        alert(currentLanguage === 'es' ? 
                            'Error al importar el archivo. Asegúrate de que sea un archivo JSON válido del Método Mamá Inteligente.' : 
                            'Error importing file. Make sure it\'s a valid Smart Mom Method JSON file.');
                    }
                };

                reader.readAsText(file);
            } catch (error) {
                console.log('Import workflow data error prevented:', error.message);
            }
        }

        // Initialize the application
        function initializeApp() {
            try {
                // Set default workflow
                selectWorkflow('multi');
                
                // Set default language
                changeLanguage('en');
                
                // Generate default optimization prompts
                generateOptimizationPrompts();
                
                // Try to restore from localStorage
                try {
                    const savedData = localStorage.getItem('smartMomMethodData');
                    if (savedData) {
                        workflowData = JSON.parse(savedData);
                    }
                } catch (e) {
                    console.log('localStorage restore failed:', e.message);
                }
                
                console.log('Smart Mom Method initialized successfully');
            } catch (error) {
                console.log('Initialization error prevented:', error.message);
            }
        }

        // Global error handler to prevent console spam
        window.addEventListener('error', function(e) {
            if (e.message && e.message.includes('classList')) {
                e.preventDefault();
                e.stopPropagation();
                return false;
            }
        });

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
</body>
</html>
