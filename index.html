<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Mom Method - AI Interactive Calendar & Business Wizard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sage-green: #6B8E6B;
            --warm-cream: #FAF7F0;
            --deep-teal: #2D5B69;
            --charcoal: #2C3E50;
            --soft-gold: #D4A574;
            --light-sage: #E8F5E8;
            --sage-alpha: rgba(107, 142, 107, 0.1);
            --teal-alpha: rgba(45, 91, 105, 0.1);
            --gold-alpha: rgba(212, 165, 116, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--charcoal);
            background: var(--warm-cream);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Authentication Modal */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 62, 80, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-content {
            background: white;
            border-radius: 24px;
            padding: 50px;
            max-width: 500px;
            width: 90%;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.4s ease;
        }

        .auth-modal.active .auth-content {
            transform: translateY(0);
        }

        .auth-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--charcoal);
            opacity: 0.7;
        }

        .auth-close:hover {
            opacity: 1;
        }

        .auth-title {
            font-family: 'Playfair Display', serif;
            color: var(--sage-green);
            margin-bottom: 32px;
            font-size: 2rem;
            text-align: center;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .auth-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--light-sage);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .auth-input:focus {
            outline: none;
            border-color: var(--sage-green);
            box-shadow: 0 0 0 4px var(--sage-alpha);
        }

        .auth-button {
            background: linear-gradient(135deg, var(--sage-green), #5A7A5A);
            color: white;
            padding: 18px 36px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(107, 142, 107, 0.35);
        }

        .auth-switch {
            text-align: center;
            margin-top: 24px;
            color: var(--charcoal);
            opacity: 0.8;
        }

        .auth-link {
            color: var(--sage-green);
            cursor: pointer;
            text-decoration: underline;
        }

        .auth-error {
            background: #ffebee;
            border: 1px solid #e57373;
            color: #c62828;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
        }

        .auth-success {
            background: #e8f5e8;
            border: 1px solid var(--sage-green);
            color: var(--sage-green);
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
        }

        /* Welcome Modal */
        .welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 62, 80, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 1;
            visibility: visible;
            transition: all 0.4s ease;
        }

        .welcome-modal.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .welcome-content {
            background: white;
            border-radius: 24px;
            padding: 60px 50px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            transform: translateY(0);
            transition: transform 0.4s ease;
            box-shadow: 0 30px 80px rgba(44, 62, 80, 0.2);
        }

        .welcome-content h2 {
            font-family: 'Playfair Display', serif;
            color: var(--sage-green);
            margin-bottom: 24px;
            font-size: 2.4rem;
            font-weight: 600;
        }

        .welcome-content p {
            color: var(--charcoal);
            margin-bottom: 40px;
            font-size: 1.1rem;
            line-height: 1.7;
            opacity: 0.8;
        }

        .welcome-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .welcome-btn {
            padding: 18px 36px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
            font-family: 'Inter', sans-serif;
        }

        .welcome-btn.primary {
            background: linear-gradient(135deg, var(--sage-green), #5A7A5A);
            color: white;
            box-shadow: 0 8px 24px rgba(107, 142, 107, 0.3);
        }

        .welcome-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(107, 142, 107, 0.4);
        }

        .welcome-btn.secondary {
            background: var(--deep-teal);
            color: white;
        }

        .welcome-btn.secondary:hover {
            background: #1E3D47;
            transform: translateY(-2px);
        }

        .welcome-btn.auth {
            background: var(--soft-gold);
            color: white;
        }

        .welcome-btn.auth:hover {
            background: #C79660;
            transform: translateY(-2px);
        }

        /* Language Selection */
        .language-selector {
            text-align: center;
            margin-bottom: 40px;
            padding: 32px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(44, 62, 80, 0.08);
        }

        .language-selector h2 {
            margin-bottom: 24px;
            color: var(--charcoal);
            font-size: 1.6rem;
            font-weight: 600;
        }

        .language-buttons {
            display: flex;
            gap: 24px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .language-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 40px;
            background: var(--sage-green);
            color: white;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 200px;
            box-shadow: 0 6px 20px rgba(107, 142, 107, 0.25);
        }

        .language-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(107, 142, 107, 0.35);
        }

        .language-btn.active {
            background: var(--soft-gold);
            transform: translateY(-2px);
        }

        .language-btn .flag {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .language-btn small {
            margin-top: 8px;
            opacity: 0.9;
        }

        /* Progress Container */
        .progress-container {
            background: white;
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: 0 8px 32px rgba(44, 62, 80, 0.08);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .step-counter {
            font-weight: 700;
            color: var(--sage-green);
            font-size: 1.3rem;
        }

        .time-estimate {
            background: var(--soft-gold);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .overall-progress {
            width: 100%;
            height: 12px;
            background: var(--light-sage);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 32px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--sage-green), var(--deep-teal));
            transition: width 0.5s ease;
            border-radius: 6px;
            width: 14.29%;
        }

        .progress-bar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 16px;
            margin-bottom: 0;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 16px;
            border-radius: 16px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--sage-alpha);
        }
        
        .progress-step:hover {
            background: var(--teal-alpha);
            transform: translateY(-2px);
        }

        .progress-step.active {
            background: var(--sage-green);
            color: white;
        }

        .progress-step.completed {
            background: var(--deep-teal);
            color: white;
        }

        .progress-step.next {
            background: var(--soft-gold);
            color: white;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .progress-step.active .step-number {
            background: rgba(255, 255, 255, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .step-text {
            font-size: 0.9rem;
            text-align: center;
            font-weight: 600;
        }

        /* Main Card */
        .main-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 16px 48px rgba(44, 62, 80, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--sage-green), var(--deep-teal));
            color: white;
            padding: 60px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 8s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
            font-weight: 600;
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            font-weight: 400;
        }

        .badge {
            display: inline-block;
            background: var(--soft-gold);
            color: white;
            padding: 12px 28px;
            border-radius: 30px;
            font-weight: 700;
            margin-top: 24px;
            font-size: 1rem;
            position: relative;
            z-index: 1;
        }

        .header .cta-section {
            margin-top: 40px;
            position: relative;
            z-index: 1;
        }

        .btn-current {
            background: linear-gradient(135deg, var(--soft-gold), #C79660);
            color: white;
            box-shadow: 0 8px 24px rgba(212, 165, 116, 0.3);
            font-size: 1.2rem;
            padding: 20px 40px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-current:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(212, 165, 116, 0.4);
        }

        .content {
            padding: 50px 40px;
        }

        .step-description {
            background: var(--light-sage);
            padding: 32px;
            border-radius: 16px;
            margin-bottom: 40px;
            border-left: 6px solid var(--sage-green);
        }

        .step-description h2 {
            font-family: 'Playfair Display', serif;
            color: var(--charcoal);
            margin-bottom: 16px;
            font-size: 2rem;
            font-weight: 600;
        }

        .step-description p {
            color: var(--charcoal);
            font-size: 1.1rem;
            opacity: 0.8;
        }

        .empowerment-message {
            background: linear-gradient(135deg, var(--gold-alpha), rgba(212, 165, 116, 0.15));
            border: 2px solid var(--soft-gold);
            border-radius: 20px;
            padding: 32px;
            margin: 32px 0;
            text-align: center;
        }

        .empowerment-title {
            color: var(--charcoal);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Playfair Display', serif;
        }

        .empowerment-text {
            color: var(--charcoal);
            line-height: 1.7;
            opacity: 0.9;
        }

        /* Form Sections */
        .form-section {
            margin-bottom: 40px;
            padding: 40px;
            background: white;
            border-radius: 20px;
            border: 2px solid var(--light-sage);
            box-shadow: 0 4px 16px rgba(107, 142, 107, 0.08);
        }

        .form-section h2 {
            font-family: 'Playfair Display', serif;
            color: var(--charcoal);
            margin-bottom: 32px;
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
        }

        .form-group {
            margin-bottom: 28px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--charcoal);
            font-size: 1rem;
        }

        .required {
            color: var(--soft-gold);
            margin-left: 4px;
        }

        .form-control {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--light-sage);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            background: var(--warm-cream);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--sage-green);
            box-shadow: 0 0 0 4px var(--sage-alpha);
            background: white;
        }

        .validation-message {
            margin-top: 8px;
            font-size: 14px;
            color: #e57373;
        }

        .validation-message.success {
            color: var(--sage-green);
        }

        .char-counter {
            text-align: right;
            font-size: 12px;
            color: var(--charcoal);
            opacity: 0.6;
            margin-top: 4px;
        }

        /* Path Selection */
        .path-selection {
            margin: 50px 0;
            text-align: center;
        }

        .path-selection h2 {
            font-family: 'Playfair Display', serif;
            color: var(--charcoal);
            margin-bottom: 40px;
            font-size: 2.2rem;
            font-weight: 600;
        }

        .path-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .path-option {
            background: var(--warm-cream);
            border-radius: 20px;
            padding: 40px 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            text-align: center;
        }

        .path-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(107, 142, 107, 0.2);
            border-color: var(--sage-green);
        }

        .path-option.selected {
            border-color: var(--soft-gold);
            background: white;
            transform: translateY(-3px);
            box-shadow: 0 12px 36px rgba(212, 165, 116, 0.25);
        }

        .path-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .path-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--charcoal);
            margin-bottom: 16px;
        }

        .path-description {
            color: var(--charcoal);
            opacity: 0.8;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .continue-btn {
            background: linear-gradient(135deg, var(--sage-green), #5A7A5A);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }

        .continue-btn.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(107, 142, 107, 0.3);
        }

        /* AI Steps */
        .ai-step {
            display: flex;
            align-items: center;
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            background: var(--warm-cream);
            border: 2px solid var(--light-sage);
            transition: all 0.3s ease;
        }

        .ai-step.processing {
            border-color: var(--soft-gold);
            background: rgba(212, 165, 116, 0.1);
        }

        .ai-step.completed {
            border-color: var(--sage-green);
            background: var(--light-sage);
        }

        .ai-step-icon {
            font-size: 2rem;
            margin-right: 20px;
            min-width: 60px;
            text-align: center;
        }

        .ai-step-content {
            flex: 1;
        }

        .ai-step-content h4 {
            margin: 0 0 8px 0;
            color: var(--charcoal);
            font-weight: 600;
        }

        .ai-step-content p {
            margin: 0;
            color: var(--charcoal);
            opacity: 0.8;
        }

        .ai-step-status {
            font-weight: 600;
            color: var(--soft-gold);
            min-width: 120px;
            text-align: right;
        }

        .ai-step.processing .ai-step-status {
            color: var(--soft-gold);
        }

        .ai-step.completed .ai-step-status {
            color: var(--sage-green);
        }

        .ai-step.completed .ai-step-icon {
            color: var(--sage-green);
        }

        /* AI Results Section */
        .ai-results {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 2px solid var(--light-sage);
        }

        .ai-platform {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 16px;
            border-left: 6px solid var(--sage-green);
        }

        .ai-platform h3 {
            color: var(--sage-green);
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-platform textarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid var(--light-sage);
            border-radius: 12px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            background: var(--warm-cream);
        }

        .ai-platform textarea:focus {
            outline: none;
            border-color: var(--sage-green);
            box-shadow: 0 0 0 4px var(--sage-alpha);
        }

        .ai-buttons {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .ai-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .ai-btn.primary {
            background: var(--sage-green);
            color: white;
        }

        .ai-btn.primary:hover {
            background: #5A7A5A;
            transform: translateY(-1px);
        }

        .ai-btn.secondary {
            background: var(--soft-gold);
            color: white;
        }

        .ai-btn.secondary:hover {
            background: #C79660;
            transform: translateY(-1px);
        }

        /* Payment Options */
        .payment-options {
            background: linear-gradient(135deg, var(--sage-green), var(--deep-teal));
            color: white;
            padding: 50px 40px;
            border-radius: 24px;
            margin: 40px 0;
            text-align: center;
        }

        .payment-options h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .payment-options p {
            font-size: 1.2rem;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .payment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .payment-card {
            background: white;
            color: var(--charcoal);
            padding: 40px 30px;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .payment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
        }

        .payment-card.featured {
            border: 3px solid var(--soft-gold);
            transform: scale(1.05);
        }

        .payment-card .price {
            font-size: 3rem;
            font-weight: 700;
            color: var(--sage-green);
            margin-bottom: 10px;
        }

        .payment-card .title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--charcoal);
        }

        .payment-card .features {
            list-style: none;
            margin-bottom: 30px;
            text-align: left;
        }

        .payment-card .features li {
            padding: 8px 0;
            position: relative;
            padding-left: 25px;
        }

        .payment-card .features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--sage-green);
            font-weight: bold;
        }

        .payment-btn {
            width: 100%;
            padding: 15px;
            background: var(--sage-green);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-btn:hover {
            background: #5A7A5A;
            transform: translateY(-2px);
        }

        .payment-btn.featured {
            background: var(--soft-gold);
        }

        .payment-btn.featured:hover {
            background: #C79660;
        }

        /* Booking Section */
        .booking-section {
            background: var(--light-sage);
            padding: 50px 40px;
            border-radius: 24px;
            margin: 40px 0;
            text-align: center;
        }

        .booking-section h2 {
            font-family: 'Playfair Display', serif;
            color: var(--charcoal);
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        .booking-section p {
            color: var(--charcoal);
            font-size: 1.1rem;
            margin-bottom: 40px;
            opacity: 0.8;
        }

        .booking-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .booking-card {
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(44, 62, 80, 0.08);
            transition: all 0.3s ease;
        }

        .booking-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(44, 62, 80, 0.15);
        }

        .booking-card .icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .booking-card h3 {
            color: var(--charcoal);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .booking-card p {
            color: var(--charcoal);
            opacity: 0.8;
            margin-bottom: 25px;
        }

        .booking-btn {
            background: var(--deep-teal);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .booking-btn:hover {
            background: #1E3D47;
            transform: translateY(-2px);
        }

        .hidden {
            display: none !important;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 0 16px;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .header .subtitle {
                font-size: 1.1rem;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .progress-bar {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }

            .progress-step {
                padding: 12px 8px;
            }

            .step-text {
                font-size: 0.7rem;
            }

            .language-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .language-btn {
                min-width: 280px;
            }

            .welcome-content {
                padding: 40px 30px;
            }

            .welcome-buttons {
                flex-direction: column;
            }

            .form-control {
                font-size: 16px;
                padding: 18px;
            }

            .auth-content {
                padding: 30px 20px;
            }

            .path-options {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .path-option {
                padding: 30px 20px;
            }

            .payment-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .booking-options {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .form-section {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Authentication Modal -->
    <div id="authModal" class="auth-modal">
        <div class="auth-content">
            <button class="auth-close" onclick="closeAuthModal()">&times;</button>
            <h2 class="auth-title" id="authTitle">Create Your Account</h2>
            
            <div id="authError" class="auth-error hidden"></div>
            <div id="authSuccess" class="auth-success hidden"></div>
            
            <form class="auth-form" id="authForm">
                <input type="text" id="authName" class="auth-input" placeholder="Your Name" style="display: none;">
                <input type="email" id="authEmail" class="auth-input" placeholder="Email Address" required>
                <input type="password" id="authPassword" class="auth-input" placeholder="Password" required>
                <input type="password" id="authConfirmPassword" class="auth-input" placeholder="Confirm Password" style="display: none;">
                
                <button type="submit" class="auth-button" id="authSubmitBtn">Create Account</button>
            </form>
            
            <div class="auth-switch">
                <span id="authSwitchText">Already have an account?</span>
                <span class="auth-link" id="authSwitchLink" onclick="toggleAuthMode()">Sign In</span>
            </div>
        </div>
    </div>

    <!-- Welcome Modal -->
    <div id="welcomeModal" class="welcome-modal">
        <div class="welcome-content">
            <h2 id="welcomeTitle">Welcome to Smart Mom Method!</h2>
            <p id="welcomeDescription">Create your personalized interactive calendar and business plan in 7 simple steps. This process will take approximately 20-25 minutes and will generate a comprehensive interactive calendar and plan tailored specifically for busy moms like you.</p>
            <div class="welcome-buttons">
                <button class="welcome-btn primary" onclick="startOnboarding()">
                    üöÄ <span id="welcomeStart">Get Started</span>
                </button>
                <button class="welcome-btn auth" onclick="showAuthModal('signup')">
                    üíæ <span id="welcomeCreate">Create Account & Save Progress</span>
                </button>
                <button class="welcome-btn secondary" onclick="handleReturningUser()">
                    <span id="welcomeReturning">I'm a returning user</span>
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Language Selection -->
        <div class="language-selector">
            <h2 id="languageTitle">Choose Your Language / Elige Tu Idioma</h2>
            <div class="language-buttons">
                <button class="language-btn" onclick="changeLanguage('en')" id="lang-en">
                    <span class="flag">üá∫üá∏</span>
                    <span>English</span>
                    <small>Read and answer everything in English</small>
                </button>
                <button class="language-btn active" onclick="changeLanguage('es')" id="lang-es">
                    <span class="flag">üá™üá∏</span>
                    <span>Espa√±ol</span>
                    <small>Lee y responde todo en espa√±ol</small>
                </button>
            </div>
        </div>

        <!-- Progress Container -->
        <div class="progress-container">
            <div class="progress-header">
                <div class="step-counter" id="stepCounter">Step 1 of 7</div>
                <div class="time-estimate" id="timeEstimate">‚è±Ô∏è Estimated: 5 min</div>
            </div>
            <div class="overall-progress">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-bar">
                <div class="progress-step active" id="step-1">
                    <span class="step-number">1</span>
                    <span class="step-text" id="stepText1">Collect Information</span>
                </div>
                <div class="progress-step next" id="step-2">
                    <span class="step-number">2</span>
                    <span class="step-text" id="stepText2">ChatGPT</span>
                </div>
                <div class="progress-step" id="step-3">
                    <span class="step-number">3</span>
                    <span class="step-text" id="stepText3">Gemini</span>
                </div>
                <div class="progress-step" id="step-3-5">
                    <span class="step-number">3.5</span>
                    <span class="step-text" id="stepText3_5">Pricing Research</span>
                </div>
                <div class="progress-step" id="step-4">
                    <span class="step-number">4</span>
                    <span class="step-text" id="stepText4">Claude</span>
                </div>
                <div class="progress-step" id="step-5">
                    <span class="step-number">5</span>
                    <span class="step-text" id="stepText5">Optimize</span>
                </div>
                <div class="progress-step" id="step-6">
                    <span class="step-number">6</span>
                    <span class="step-text" id="stepText6">Complete</span>
                </div>
            </div>
        </div>

        <div class="main-card">
            <div class="header">
                <h1 id="mainTitle">Smart Mom Method</h1>
                <p class="subtitle" id="mainSubtitle">AI-Powered Interactive Calendar & Business Planning for Busy Moms</p>
                <span class="badge" id="freeBadge">100% Free</span>
                
                <div class="cta-section">
                    <button class="btn-current" onclick="scrollToForm()">
                        üöÄ <span id="ctaButton">Start Your Free Interactive Calendar & Business Plan Now</span>
                    </button>
                    <p style="margin-top: 16px; font-size: 0.95rem; opacity: 0.9;" id="ctaSubtext">No email required to browse ‚Ä¢ Full process takes 20-25 minutes</p>
                </div>
            </div>

            <div class="content">
                <div class="step-description">
                    <h2 id="stepDescTitle">üëã Let's Get Started</h2>
                    <p id="stepDescText">First, let's get to know you better so we can create the perfect interactive calendar and business plan for your unique situation.</p>
                </div>

                <div class="empowerment-message">
                    <div class="empowerment-title" id="empowermentTitle">You're Already Successful! üåü</div>
                    <p class="empowerment-text" id="empowermentText">Managing a family is running a complex organization. You have negotiation skills, time management expertise, and crisis resolution abilities that most CEOs would envy. Now let's channel that into YOUR organized life and successful business!</p>
                </div>

                <!-- Basic Information Section -->
                <div class="form-section" id="basicInfoSection">
                    <h2 id="basicInfoTitle">üëã Basic Information</h2>
                    
                    <div class="form-group">
                        <label id="nameLabel">Your Name: <span class="required">*</span></label>
                        <input type="text" id="user-name" class="form-control" placeholder="Enter your name" onchange="validateField(this)" />
                        <div class="validation-message" id="user-name-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="emailLabel">Your Email: <span class="required">*</span></label>
                        <input type="email" id="user-email" class="form-control" placeholder="your.email@example.com" onchange="validateField(this)" />
                        <div class="validation-message" id="user-email-validation"></div>
                    </div>
                </div>

                <!-- Path Selection -->
                <div class="path-selection hidden" id="pathSelection">
                    <h2 id="pathSelectionTitle">What brings you here today? Choose your main focus:</h2>
                    
                    <div class="path-options">
                        <div class="path-option" data-path="life-organization" onclick="selectPath('life-organization')">
                            <span class="path-icon">üè†</span>
                            <h3 class="path-title" id="pathTitle1">Life Organization</h3>
                            <p class="path-description" id="pathDesc1">I need help organizing my daily life, family schedules, and home systems</p>
                        </div>
                        
                        <div class="path-option" data-path="business-launch" onclick="selectPath('business-launch')">
                            <span class="path-icon">üíº</span>
                            <h3 class="path-title" id="pathTitle2">Business Launch</h3>
                            <p class="path-description" id="pathDesc2">I want to start a business or create passive income streams</p>
                        </div>
                        
                        <div class="path-option" data-path="both" onclick="selectPath('both')">
                            <span class="path-icon">‚òÄÔ∏è</span>
                            <h3 class="path-title" id="pathTitle3">Both Life & Business</h3>
                            <p class="path-description" id="pathDesc3">I need life organization AND want to start a business</p>
                        </div>
                    </div>
                    
                    <button class="continue-btn" id="continueBtn" onclick="showBusinessQuestionnaire()">
                        <span id="continueBtnText">Continue With Selected Path</span>
                    </button>
                </div>

                <!-- Business Questionnaire -->
                <div class="form-section hidden" id="businessQuestionnaire">
                    <h2 id="businessQuestionnaireTitle">üíº Business Preferences</h2>
                    
                    <div class="form-group">
                        <label id="investmentLabel">Investment level for business: <span class="required">*</span></label>
                        <select id="investment-level" class="form-control" onchange="validateField(this)">
                            <option value="">Select investment level...</option>
                            <option value="no-money">$0 - I need free options only</option>
                            <option value="minimal">Under $100 - Very limited budget</option>
                            <option value="moderate">$100-500 - Can invest if necessary</option>
                            <option value="flexible">$500+ - Flexible for right opportunity</option>
                        </select>
                        <div class="validation-message" id="investment-level-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="workLocationLabel">Preferred Work Location: <span class="required">*</span></label>
                        <select id="work-location" class="form-control" onchange="validateField(this)">
                            <option value="">Select work location...</option>
                            <option value="home-only">Home only - need to be with kids</option>
                            <option value="home-flexible">Mostly home, occasional outings</option>
                            <option value="local-community">Local community/neighborhood</option>
                            <option value="hybrid">Mix of home and outside work</option>
                            <option value="travel-okay">Comfortable traveling for business</option>
                        </select>
                        <div class="validation-message" id="work-location-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="workStyleLabel">Work Style Preference: <span class="required">*</span></label>
                        <select id="work-style" class="form-control" onchange="validateField(this)">
                            <option value="">Select work style...</option>
                            <option value="independent">Independent work - minimal client interaction</option>
                            <option value="some-interaction">Some client calls/meetings</option>
                            <option value="collaborative">Collaborative - enjoy working with people</option>
                            <option value="teaching-mentoring">Teaching/mentoring others</option>
                            <option value="creative-expressive">Creative and expressive work</option>
                        </select>
                        <div class="validation-message" id="work-style-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="cameraComfortLabel">Are you comfortable being on camera/social media? <span class="required">*</span></label>
                        <select id="camera-comfort" class="form-control" onchange="validateField(this)">
                            <option value="">Select your comfort level...</option>
                            <option value="love-it">Love it! I'm comfortable on camera</option>
                            <option value="okay-with-it">Okay with it, can learn</option>
                            <option value="prefer-behind-scenes">Prefer behind-the-scenes work</option>
                            <option value="absolutely-not">Absolutely not comfortable</option>
                        </select>
                        <div class="validation-message" id="camera-comfort-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="incomeTimelineLabel">Timeline to first income: <span class="required">*</span></label>
                        <select id="income-timeline" class="form-control" onchange="validateField(this)">
                            <option value="">Select timeline...</option>
                            <option value="immediate">Immediate need (within 1-2 months)</option>
                            <option value="moderate">3-6 months is fine</option>
                            <option value="patient">Can wait 6-12 months for good business</option>
                            <option value="long-term">Building for long-term (1+ years)</option>
                        </select>
                        <div class="validation-message" id="income-timeline-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="totalBudgetLabel">Maximum startup budget (total): <span class="required">*</span></label>
                        <select id="total-budget" class="form-control" onchange="validateField(this)">
                            <option value="">Select budget...</option>
                            <option value="zero">$0 - Must be completely free</option>
                            <option value="minimal">Under $50 total</option>
                            <option value="moderate">$50-200 if necessary</option>
                            <option value="invest">$200-500 for right opportunity</option>
                            <option value="serious">$500+ ready to invest</option>
                        </select>
                        <div class="validation-message" id="total-budget-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="familyStructureLabel">Family structure & ages: <span class="required">*</span></label>
                        <textarea id="family-structure" class="form-control" rows="4" placeholder="Tell us about your family: How many kids? What ages? Any special needs or considerations?" oninput="updateCharCount(this, 1000)"></textarea>
                        <div class="char-counter" id="family-structure-counter">0/1000</div>
                        <div class="validation-message" id="family-structure-validation"></div>
                    </div>

                    <div class="form-group">
                        <label id="dailyScheduleLabel">Describe your typical daily schedule: <span class="required">*</span></label>
                        <textarea id="daily-schedule" class="form-control" rows="4" placeholder="Walk us through a typical day: When do you wake up? Kids' schedules? When do you have free time?" oninput="updateCharCount(this, 1000)"></textarea>
                        <div class="char-counter" id="daily-schedule-counter">0/1000</div>
                        <div class="validation-message" id="daily-schedule-validation"></div>
                    </div>

                    <button class="continue-btn visible" onclick="proceedWithQuestionnaire()">
                        <span id="proceedBtnText">Generate My AI-Powered Plan</span>
                    </button>
                </div>

                <!-- AI Process Steps -->
                <div id="aiProcessSteps" class="hidden">
                    <div class="step-description">
                        <h2>ü§ñ AI-Powered Analysis in Progress</h2>
                        <p>We're analyzing your responses using advanced AI to create your personalized interactive calendar and business plan. This process takes just a few minutes.</p>
                    </div>

                    <div id="aiProgress" style="background: white; padding: 30px; border-radius: 20px; border: 2px solid var(--light-sage); margin: 20px 0;">
                        <h3 style="margin-bottom: 20px;">AI Processing Progress:</h3>
                        
                        <div class="ai-step" id="ai-step-1">
                            <div class="ai-step-icon">‚è≥</div>
                            <div class="ai-step-content">
                                <h4>Step 1: Analyzing Your Profile & Goals</h4>
                                <p>Processing your family situation, preferences, and business goals...</p>
                            </div>
                            <div class="ai-step-status">In Progress...</div>
                        </div>

                        <div class="ai-step" id="ai-step-2">
                            <div class="ai-step-icon">‚è≥</div>
                            <div class="ai-step-content">
                                <h4>Step 2: ChatGPT Business Ideas Generation</h4>
                                <p>Creating personalized business ideas based on your constraints...</p>
                            </div>
                            <div class="ai-step-status">Waiting...</div>
                        </div>

                        <div class="ai-step" id="ai-step-3">
                            <div class="ai-step-icon">‚è≥</div>
                            <div class="ai-step-content">
                                <h4>Step 3: Gemini Market Research</h4>
                                <p>Researching market opportunities and validation...</p>
                            </div>
                            <div class="ai-step-status">Waiting...</div>
                        </div>

                        <div class="ai-step" id="ai-step-4">
                            <div class="ai-step-icon">‚è≥</div>
                            <div class="ai-step-content">
                                <h4>Step 4: Claude Business Plan Creation</h4>
                                <p>Generating comprehensive business plan and calendar...</p>
                            </div>
                            <div class="ai-step-status">Waiting...</div>
                        </div>
                    </div>
                </div>

                <!-- AI Results -->
                <div id="aiResults" class="hidden">
                    <div class="step-description">
                        <h2>üéØ Your Personalized AI Analysis Results</h2>
                        <p>Based on your responses, here are your customized AI prompts and business recommendations. Copy these prompts to the respective AI platforms for detailed analysis.</p>
                    </div>

                    <div class="ai-results">
                        <div class="ai-platform" style="background: #e8f5e8;">
                            <h3>ü§ñ ChatGPT Analysis</h3>
                            <textarea id="chatgpt-prompt" readonly placeholder="Your ChatGPT prompt will appear here..."></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('chatgpt-prompt')">üìã Copy Prompt</button>
                                <button class="ai-btn secondary" onclick="openChatGPT()">üöÄ Open ChatGPT</button>
                            </div>
                        </div>

                        <div class="ai-platform" style="background: #f0f7ff;">
                            <h3>üíé Google Gemini Research</h3>
                            <textarea id="gemini-prompt" readonly placeholder="Your Gemini prompt will appear here..."></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('gemini-prompt')">üìã Copy Prompt</button>
                                <button class="ai-btn secondary" onclick="openGemini()">üöÄ Open Gemini</button>
                            </div>
                        </div>

                        <div class="ai-platform" style="background: #fff5e6;">
                            <h3>üß† Claude Business Plan</h3>
                            <textarea id="claude-prompt" readonly placeholder="Your Claude prompt will appear here..."></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('claude-prompt')">üìã Copy Prompt</button>
                                <button class="ai-btn secondary" onclick="openClaude()">üöÄ Open Claude</button>
                            </div>
                        </div>
                    </div>

                    <button class="continue-btn visible" id="startWorkflowBtn" onclick="startSequentialWorkflow()" style="opacity: 1; pointer-events: all; transform: translateY(0); margin-top: 30px;">
                        <span id="startWorkflowText">üöÄ Start Interactive AI Workflow</span>
                    </button>
                </div>

                <!-- Sequential AI Workflow -->
                <div id="sequentialWorkflow" class="hidden">
                    <div class="step-description">
                        <h2 id="workflowTitle">üîÑ Interactive AI Workflow</h2>
                        <p id="workflowDescription">Follow these steps to build your complete business plan. Each step builds on the previous one for maximum effectiveness.</p>
                    </div>

                    <!-- Step 1: ChatGPT Response Collection -->
                    <div id="step1Collection" class="form-section">
                        <h2 id="step1Title">ü§ñ Step 1: Get Business Ideas from ChatGPT</h2>
                        
                        <div class="empowerment-message">
                            <div class="empowerment-title" id="step1InstructionTitle">Instructions:</div>
                            <p class="empowerment-text" id="step1Instructions">
                                1. Copy the ChatGPT prompt above<br>
                                2. Go to ChatGPT and paste the prompt<br>
                                3. Wait for the complete response<br>
                                4. Copy the ENTIRE response and paste it below
                            </p>
                        </div>

                        <div class="form-group">
                            <label id="chatgptResponseLabel">ChatGPT Response: <span class="required">*</span></label>
                            <textarea id="chatgpt-response" class="form-control" rows="10" placeholder="Paste ChatGPT's complete response here..." oninput="updateCharCount(this, 5000); validateWorkflowStep(1)"></textarea>
                            <div class="char-counter" id="chatgpt-response-counter">0/5000</div>
                            <div class="validation-message" id="chatgpt-response-validation"></div>
                        </div>

                        <button class="continue-btn" id="processStep1Btn" onclick="processStep1Response()" style="opacity: 0.5; pointer-events: none;">
                            <span id="processStep1Text">üìà Process ChatGPT Response</span>
                        </button>
                    </div>

                    <!-- Step 2: Gemini MVP Collection -->
                    <div id="step2Collection" class="form-section hidden">
                        <h2 id="step2Title">üíé Step 2: MVP Research with Gemini Deep Search</h2>
                        
                        <div class="empowerment-message">
                            <div class="empowerment-title" id="step2InstructionTitle">Instructions:</div>
                            <p class="empowerment-text" id="step2Instructions">
                                1. Copy the prompt below to Gemini<br>
                                2. IMPORTANT: Choose "Deep Search" option in Gemini<br>
                                3. Wait for Gemini to confirm Deep Search is complete<br>
                                4. Copy the ENTIRE response and paste below
                            </p>
                        </div>

                        <div class="ai-platform" style="background: #f0f7ff; margin-bottom: 20px;">
                            <h3>üíé Gemini MVP Deep Search Prompt</h3>
                            <textarea id="gemini-mvp-prompt" readonly rows="8"></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('gemini-mvp-prompt')">üìã Copy MVP Prompt</button>
                                <button class="ai-btn secondary" onclick="openGemini()">üöÄ Open Gemini</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label id="geminiMvpResponseLabel">Gemini MVP Research Response: <span class="required">*</span></label>
                            <textarea id="gemini-mvp-response" class="form-control" rows="10" placeholder="Paste Gemini's complete MVP research response here..." oninput="updateCharCount(this, 5000); validateWorkflowStep(2)"></textarea>
                            <div class="char-counter" id="gemini-mvp-response-counter">0/5000</div>
                            <div class="validation-message" id="gemini-mvp-response-validation"></div>
                        </div>

                        <button class="continue-btn" id="processStep2Btn" onclick="processStep2Response()" style="opacity: 0.5; pointer-events: none;">
                            <span id="processStep2Text">üîç Process MVP Research</span>
                        </button>
                    </div>

                    <!-- Step 3: Gemini Pricing Collection -->
                    <div id="step3Collection" class="form-section hidden">
                        <h2 id="step3Title">üí∞ Step 3: Pricing Research with Gemini Deep Search</h2>
                        
                        <div class="empowerment-message">
                            <div class="empowerment-title" id="step3InstructionTitle">Instructions:</div>
                            <p class="empowerment-text" id="step3Instructions">
                                1. Copy the pricing prompt below to Gemini<br>
                                2. IMPORTANT: Choose "Deep Search" again<br>
                                3. Wait for Gemini to complete the Deep Search<br>
                                4. Copy the ENTIRE pricing response below
                            </p>
                        </div>

                        <div class="ai-platform" style="background: #f0f7ff; margin-bottom: 20px;">
                            <h3>üí∞ Gemini Pricing Deep Search Prompt</h3>
                            <textarea id="gemini-pricing-prompt" readonly rows="8"></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('gemini-pricing-prompt')">üìã Copy Pricing Prompt</button>
                                <button class="ai-btn secondary" onclick="openGemini()">üöÄ Open Gemini</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label id="geminiPricingResponseLabel">Gemini Pricing Research Response: <span class="required">*</span></label>
                            <textarea id="gemini-pricing-response" class="form-control" rows="10" placeholder="Paste Gemini's complete pricing research response here..." oninput="updateCharCount(this, 5000); validateWorkflowStep(3)"></textarea>
                            <div class="char-counter" id="gemini-pricing-response-counter">0/5000</div>
                            <div class="validation-message" id="gemini-pricing-response-validation"></div>
                        </div>

                        <button class="continue-btn" id="processStep3Btn" onclick="processStep3Response()" style="opacity: 0.5; pointer-events: none;">
                            <span id="processStep3Text">üíπ Process Pricing Research</span>
                        </button>
                    </div>

                    <!-- Step 4: Gemini Infographic Collection -->
                    <div id="step4Collection" class="form-section hidden">
                        <h2 id="step4Title">üé® Step 4: Generate Business Infographic</h2>
                        
                        <div class="empowerment-message">
                            <div class="empowerment-title" id="step4InstructionTitle">Instructions:</div>
                            <p class="empowerment-text" id="step4Instructions">
                                1. Copy the infographic prompt below to Gemini<br>
                                2. Ask Gemini to create a visual infographic<br>
                                3. IMPORTANT: Copy only the HTML/SVG CODE, not the explanation<br>
                                4. Paste the code below for integration
                            </p>
                        </div>

                        <div class="ai-platform" style="background: #f0f7ff; margin-bottom: 20px;">
                            <h3>üé® Gemini Infographic Generation Prompt</h3>
                            <textarea id="gemini-infographic-prompt" readonly rows="8"></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('gemini-infographic-prompt')">üìã Copy Infographic Prompt</button>
                                <button class="ai-btn secondary" onclick="openGemini()">üöÄ Open Gemini</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label id="geminiInfographicCodeLabel">Infographic HTML/SVG Code: <span class="required">*</span></label>
                            <textarea id="gemini-infographic-code" class="form-control" rows="10" placeholder="Paste the HTML/SVG code from Gemini here (not the explanation, just the code)..." oninput="validateWorkflowStep(4)"></textarea>
                            <div class="validation-message" id="gemini-infographic-code-validation"></div>
                        </div>

                        <button class="continue-btn" id="processStep4Btn" onclick="processStep4Code()" style="opacity: 0.5; pointer-events: none;">
                            <span id="processStep4Text">üé® Integrate Infographic</span>
                        </button>
                    </div>

                    <!-- Step 5: Claude Calendar Collection -->
                    <div id="step5Collection" class="form-section hidden">
                        <h2 id="step5Title">üìÖ Step 5: Create Interactive Calendar with Claude</h2>
                        
                        <div class="empowerment-message">
                            <div class="empowerment-title" id="step5InstructionTitle">Instructions:</div>
                            <p class="empowerment-text" id="step5Instructions">
                                1. Copy the comprehensive Claude prompt below<br>
                                2. Go to Claude and paste the prompt<br>
                                3. Wait for Claude's complete calendar response<br>
                                4. Copy the ENTIRE response and paste below
                            </p>
                        </div>

                        <div class="ai-platform" style="background: #fff5e6; margin-bottom: 20px;">
                            <h3>üß† Claude Interactive Calendar Prompt</h3>
                            <textarea id="claude-calendar-prompt" readonly rows="10"></textarea>
                            <div class="ai-buttons">
                                <button class="ai-btn primary" onclick="copyToClipboard('claude-calendar-prompt')">üìã Copy Calendar Prompt</button>
                                <button class="ai-btn secondary" onclick="openClaude()">üöÄ Open Claude</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label id="claudeCalendarResponseLabel">Claude Calendar Response: <span class="required">*</span></label>
                            <textarea id="claude-calendar-response" class="form-control" rows="10" placeholder="Paste Claude's complete calendar response here..." oninput="updateCharCount(this, 8000); validateWorkflowStep(5)"></textarea>
                            <div class="char-counter" id="claude-calendar-response-counter">0/8000</div>
                            <div class="validation-message" id="claude-calendar-response-validation"></div>
                        </div>

                        <button class="continue-btn" id="processStep5Btn" onclick="processStep5Response()" style="opacity: 0.5; pointer-events: none;">
                            <span id="processStep5Text">üìÖ Generate Final Calendar</span>
                        </button>
                    </div>

                    <!-- Step 6: Final Integration Dashboard -->
                    <div id="step6Dashboard" class="hidden">
                        <div class="step-description">
                            <h2 id="finalDashboardTitle">üéâ Your Complete Smart Mom Business Plan</h2>
                            <p id="finalDashboardDescription">Congratulations! Your AI-powered business plan is complete. Here's your integrated dashboard with all components.</p>
                        </div>

                        <!-- Integrated Infographic Display -->
                        <div id="infographicDisplay" class="ai-results" style="margin-bottom: 30px;">
                            <h3 id="infographicDisplayTitle">üé® Your Business Infographic</h3>
                            <div id="infographicContainer" style="border: 2px solid var(--light-sage); border-radius: 16px; padding: 20px; background: white; text-align: center; min-height: 200px;">
                                <p id="infographicPlaceholder">Your generated infographic will appear here...</p>
                            </div>
                        </div>

                        <!-- Calendar Integration -->
                        <div id="calendarDisplay" class="ai-results" style="margin-bottom: 30px;">
                            <h3 id="calendarDisplayTitle">üìÖ Your Interactive Business Calendar</h3>
                            <div id="calendarContainer" style="border: 2px solid var(--light-sage); border-radius: 16px; padding: 20px; background: var(--warm-cream); max-height: 400px; overflow-y: auto;">
                                <p id="calendarPlaceholder">Your personalized calendar will appear here...</p>
                            </div>
                        </div>

                        <!-- Complete Business Plan Summary -->
                        <div id="businessPlanSummary" class="ai-results">
                            <h3 id="businessPlanSummaryTitle">üìã Complete Business Plan Summary</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                                <div style="background: #e8f5e8; padding: 20px; border-radius: 12px;">
                                    <h4>ü§ñ Business Ideas</h4>
                                    <div id="businessIdeasSummary" style="font-size: 0.9rem; opacity: 0.8;">From ChatGPT analysis...</div>
                                </div>
                                <div style="background: #f0f7ff; padding: 20px; border-radius: 12px;">
                                    <h4>üíé Market Research</h4>
                                    <div id="marketResearchSummary" style="font-size: 0.9rem; opacity: 0.8;">From Gemini deep search...</div>
                                </div>
                                <div style="background: #fff5e6; padding: 20px; border-radius: 12px;">
                                    <h4>üìÖ Action Plan</h4>
                                    <div id="actionPlanSummary" style="font-size: 0.9rem; opacity: 0.8;">From Claude calendar...</div>
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 40px;">
                            <button class="continue-btn visible" onclick="downloadCompleteBusinessPlan()" style="opacity: 1; pointer-events: all; transform: translateY(0); margin: 10px;">
                                <span id="downloadCompleteText">üì• Download Complete Business Plan</span>
                            </button>
                            <button class="continue-btn visible" onclick="showPaymentOptions()" style="opacity: 1; pointer-events: all; transform: translateY(0); margin: 10px;">
                                <span id="getPersonalizedText">üéØ Get Your Personalized Calendar & Training</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Payment Options -->
                <div id="paymentOptions" class="hidden">
                    <div class="payment-options">
                        <h2>üöÄ Transform Your Plan Into Action</h2>
                        <p>You've got the ideas - now let's make them happen! Get your personalized interactive calendar and expert guidance to succeed.</p>
                        
                        <div class="payment-grid">
                            <div class="payment-card">
                                <div class="price">$39</div>
                                <div class="title">Life Organization Calendar</div>
                                <ul class="features">
                                    <li>Personalized interactive calendar</li>
                                    <li>Daily routines & time blocks</li>
                                    <li>Family schedule optimization</li>
                                    <li>Goal tracking templates</li>
                                    <li>Printable planning sheets</li>
                                </ul>
                                <button class="payment-btn" onclick="window.open('https://buy.stripe.com/cN100gj9M0fo83eUa1a17Vm07', '_blank')">
                                    Get Life Calendar
                                </button>
                            </div>

                            <div class="payment-card featured">
                                <div class="price">$89</div>
                                <div class="title">Life + Training Package</div>
                                <ul class="features">
                                    <li>Everything in Life Calendar</li>
                                    <li>90-minute video training course</li>
                                    <li>Step-by-step implementation guide</li>
                                    <li>Time management strategies</li>
                                    <li>Bonus productivity tools</li>
                                </ul>
                                <button class="payment-btn featured" onclick="window.open('https://buy.stripe.com/5kQ6oHb946RSn22zbz7Vm06', '_blank')">
                                    Get Life + Training
                                </button>
                            </div>

                            <div class="payment-card">
                                <div class="price">$49</div>
                                <div class="title">Business Launch Calendar</div>
                                <ul class="features">
                                    <li>Business planning calendar</li>
                                    <li>Revenue milestone tracking</li>
                                    <li>Marketing action plans</li>
                                    <li>Client management system</li>
                                    <li>Financial tracking tools</li>
                                </ul>
                                <button class="payment-btn" onclick="window.open('https://buy.stripe.com/3cI8wP7NS2BmbLqgc9L7Vm05', '_blank')">
                                    Get Business Calendar
                                </button>
                            </div>

                            <div class="payment-card featured">
                                <div class="price">$100</div>
                                <div class="title">Complete Business Package</div>
                                <ul class="features">
                                    <li>Everything in Business Calendar</li>
                                    <li>2-hour business training course</li>
                                    <li>Market research templates</li>
                                    <li>Pricing & sales strategies</li>
                                    <li>Launch timeline with milestones</li>
                                </ul>
                                <button class="payment-btn featured" onclick="window.open('https://buy.stripe.com/fZu8wP8RW1x8i18eec97Vm04', '_blank')">
                                    Get Complete Package
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Booking Section -->
                <div id="bookingSection" class="hidden">
                    <div class="booking-section">
                        <h2>üìû Need Personal Guidance?</h2>
                        <p>Sometimes you need a real person to talk through your specific situation. Book a call with our Smart Mom Method experts.</p>
                        
                        <div class="booking-options">
                            <div class="booking-card">
                                <div class="icon">üí¨</div>
                                <h3>Free Smart Mom Call</h3>
                                <p>30-minute free consultation to discuss your goals and get personalized advice on your next steps.</p>
                                <button class="booking-btn" onclick="window.open('https://calendly.com/momsurvivaltoolkit/free-smart-mom-call-30-min', '_blank')">
                                    Book Free Call
                                </button>
                            </div>

                            <div class="booking-card">
                                <div class="icon">üéØ</div>
                                <h3>Strategy Session</h3>
                                <p>30-minute focused strategy session to create a detailed action plan for your business or life organization goals.</p>
                                <button class="booking-btn" onclick="window.open('https://calendly.com/momsurvivaltoolkit/30min', '_blank')">
                                    Book Strategy Session
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Final Completion -->
                <div id="completionSection" class="hidden">
                    <div style="background: linear-gradient(135deg, var(--sage-green), var(--deep-teal)); color: white; padding: 60px 40px; text-align: center; border-radius: 24px; margin: 40px 0; position: relative; overflow: hidden;">
                        <h2 style="font-family: 'Playfair Display', serif; font-size: 2.5rem; margin-bottom: 20px;">üéâ Congratulations!</h2>
                        <p style="font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9;">Your personalized Smart Mom Method analysis is complete!</p>
                        
                        <div style="background: rgba(255,255,255,0.15); padding: 30px; border-radius: 16px; margin: 30px 0;">
                            <h3 style="margin-bottom: 15px;">What You've Accomplished:</h3>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin: 10px 0;">‚úÖ Identified your unique mom-entrepreneur profile</li>
                                <li style="margin: 10px 0;">ü§ñ Generated AI-powered business recommendations</li>
                                <li style="margin: 10px 0;">üìÖ Created your personalized calendar framework</li>
                                <li style="margin: 10px 0;">üéØ Established clear next steps for success</li>
                                <li style="margin: 10px 0;">üí™ Joined a community of successful Smart Moms</li>
                            </ul>
                        </div>

                        <button onclick="downloadCalendar()" style="background: var(--soft-gold); color: white; padding: 20px 40px; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: 600; cursor: pointer; margin: 10px;">
                            üì• Download Your Basic Calendar
                        </button>
                        
                        <button onclick="startOver()" style="background: white; color: var(--sage-green); padding: 20px 40px; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: 600; cursor: pointer; margin: 10px;">
                            üîÑ Create Another Plan
                        </button>
                    </div>

                    <div style="background: var(--light-sage); padding: 30px; border-radius: 20px; text-align: center;">
                        <h3>Thank you for using Smart Mom Method! üåü</h3>
                        <p>Your journey to an organized life and successful business starts now. You have everything you need to succeed - you just need to take action!</p>
                        
                        <div style="margin-top: 20px;">
                            <button onclick="provideFeedback()" style="background: var(--sage-green); color: white; padding: 15px 30px; border: none; border-radius: 8px; margin: 5px; cursor: pointer;">
                                üí¨ Share Your Experience
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Airtable Configuration
        const AIRTABLE_BASE_ID = 'appQUFJzVLlHbB4Fp';
        const AIRTABLE_TOKEN = 'patje3I65ajVyNTSN.3963cc18c6dc227b6e290d5da83da3bde2f4d089d60d4a0e49787fecdb676f65';
        const AIRTABLE_TABLE_NAME = 'Users';

        // Global Variables
        let currentLanguage = 'en';
        let currentStep = 1;
        let selectedPath = '';
        let authMode = 'signup';

        // AI Realism Instructions
        const realismInstructions = `
**CRITICAL INSTRUCTIONS - BE EXTREMELY REALISTIC:**
- This person is a BEGINNER, not an expert
- Be brutally honest about challenges and timelines  
- Don't suggest businesses requiring experience they don't have
- Focus on DOWN-TO-EARTH, practical solutions only
- Consider their family constraints and available time
- If they said "free only," respect that completely
- Suggest pricing that will actually get clients, not scare them away

**REMEMBER:** A mom with 2 hours/day and no business experience should NOT be suggested:
- Businesses requiring 40+ hours/week
- High-skill services they've never done
- Anything requiring significant upfront investment (if they said free)
- Complex businesses with steep learning curves

Focus on what's ACTUALLY doable for their situation.
`;

        // Translation data
        const translations = {
            en: {
                welcomeTitle: "Welcome to Smart Mom Method!",
                welcomeDescription: "Create your personalized interactive calendar and business plan in 7 simple steps. This process will take approximately 20-25 minutes and will generate a comprehensive interactive calendar and plan tailored specifically for busy moms like you.",
                welcomeStart: "Get Started",
                welcomeCreate: "Create Account & Save Progress",
                welcomeReturning: "I'm a returning user",
                languageTitle: "Choose Your Language / Elige Tu Idioma",
                stepCounter: "Step 1 of 7",
                timeEstimate: "‚è±Ô∏è Estimated: 5 min",
                mainTitle: "Smart Mom Method",
                mainSubtitle: "AI-Powered Interactive Calendar & Business Planning for Busy Moms",
                freeBadge: "100% Free",
                ctaButton: "Start Your Free Interactive Calendar & Business Plan Now",
                ctaSubtext: "No email required to browse ‚Ä¢ Full process takes 20-25 minutes",
                stepDescTitle: "üëã Let's Get Started",
                stepDescText: "First, let's get to know you better so we can create the perfect interactive calendar and business plan for your unique situation.",
                empowermentTitle: "You're Already Successful! üåü",
                empowermentText: "Managing a family is running a complex organization. You have negotiation skills, time management expertise, and crisis resolution abilities that most CEOs would envy. Now let's channel that into YOUR organized life and successful business!",
                basicInfoTitle: "üëã Basic Information",
                nameLabel: "Your Name:",
                emailLabel: "Your Email:",
                pathSelectionTitle: "What brings you here today? Choose your main focus:",
                pathTitle1: "Life Organization",
                pathDesc1: "I need help organizing my daily life, family schedules, and home systems",
                pathTitle2: "Business Launch", 
                pathDesc2: "I want to start a business or create passive income streams",
                pathTitle3: "Both Life & Business",
                pathDesc3: "I need life organization AND want to start a business",
                continueBtnText: "Continue With Selected Path",
                businessQuestionnaireTitle: "üíº Business Preferences",
                investmentLabel: "Investment level for business:",
                workLocationLabel: "Preferred Work Location:",
                workStyleLabel: "Work Style Preference:",
                cameraComfortLabel: "Are you comfortable being on camera/social media?",
                incomeTimelineLabel: "Timeline to first income:",
                totalBudgetLabel: "Maximum startup budget (total):",
                familyStructureLabel: "Family structure & ages:",
                dailyScheduleLabel: "Describe your typical daily schedule:",
                proceedBtnText: "Generate My AI-Powered Plan",
                startWorkflowText: "üöÄ Start Interactive AI Workflow",
                workflowTitle: "üîÑ Interactive AI Workflow",
                workflowDescription: "Follow these steps to build your complete business plan. Each step builds on the previous one for maximum effectiveness.",
                step1Title: "ü§ñ Step 1: Get Business Ideas from ChatGPT",
                step1InstructionTitle: "Instructions:",
                step1Instructions: "1. Copy the ChatGPT prompt above<br>2. Go to ChatGPT and paste the prompt<br>3. Wait for the complete response<br>4. Copy the ENTIRE response and paste it below",
                chatgptResponseLabel: "ChatGPT Response:",
                processStep1Text: "üìà Process ChatGPT Response",
                step2Title: "üíé Step 2: MVP Research with Gemini Deep Search",
                step2InstructionTitle: "Instructions:",
                step2Instructions: "1. Copy the prompt below to Gemini<br>2. IMPORTANT: Choose \"Deep Search\" option in Gemini<br>3. Wait for Gemini to confirm Deep Search is complete<br>4. Copy the ENTIRE response and paste below",
                geminiMvpResponseLabel: "Gemini MVP Research Response:",
                processStep2Text: "üîç Process MVP Research",
                step3Title: "üí∞ Step 3: Pricing Research with Gemini Deep Search",
                step3InstructionTitle: "Instructions:",
                step3Instructions: "1. Copy the pricing prompt below to Gemini<br>2. IMPORTANT: Choose \"Deep Search\" again<br>3. Wait for Gemini to complete the Deep Search<br>4. Copy the ENTIRE pricing response below",
                geminiPricingResponseLabel: "Gemini Pricing Research Response:",
                processStep3Text: "üíπ Process Pricing Research",
                step4Title: "üé® Step 4: Generate Business Infographic",
                step4InstructionTitle: "Instructions:",
                step4Instructions: "1. Copy the infographic prompt below to Gemini<br>2. Ask Gemini to create a visual infographic<br>3. IMPORTANT: Copy only the HTML/SVG CODE, not the explanation<br>4. Paste the code below for integration",
                geminiInfographicCodeLabel: "Infographic HTML/SVG Code:",
                processStep4Text: "üé® Integrate Infographic",
                step5Title: "üìÖ Step 5: Create Interactive Calendar with Claude",
                step5InstructionTitle: "Instructions:",
                step5Instructions: "1. Copy the comprehensive Claude prompt below<br>2. Go to Claude and paste the prompt<br>3. Wait for Claude's complete calendar response<br>4. Copy the ENTIRE response and paste below",
                claudeCalendarResponseLabel: "Claude Calendar Response:",
                processStep5Text: "üìÖ Generate Final Calendar",
                finalDashboardTitle: "üéâ Your Complete Smart Mom Business Plan",
                finalDashboardDescription: "Congratulations! Your AI-powered business plan is complete. Here's your integrated dashboard with all components.",
                infographicDisplayTitle: "üé® Your Business Infographic",
                calendarDisplayTitle: "üìÖ Your Interactive Business Calendar",
                businessPlanSummaryTitle: "üìã Complete Business Plan Summary",
                downloadCompleteText: "üì• Download Complete Business Plan",
                getPersonalizedText: "üéØ Get Your Personalized Calendar & Training"
            },
            es: {
                welcomeTitle: "¬°Bienvenida al M√©todo Smart Mom!",
                welcomeDescription: "Crea tu calendario interactivo personalizado y plan de negocio en 7 pasos simples. Este proceso tomar√° aproximadamente 20-25 minutos y generar√° un calendario interactivo y plan integral dise√±ado espec√≠ficamente para mam√°s ocupadas como t√∫.",
                welcomeStart: "Comenzar",
                welcomeCreate: "Crear Cuenta y Guardar Progreso",
                welcomeReturning: "Soy usuaria recurrente",
                languageTitle: "Elige Tu Idioma / Choose Your Language",
                stepCounter: "Paso 1 de 7",
                timeEstimate: "‚è±Ô∏è Estimado: 5 min",
                mainTitle: "M√©todo Smart Mom",
                mainSubtitle: "Calendario Interactivo y Planificaci√≥n de Negocios con IA para Mam√°s Ocupadas",
                freeBadge: "100% Gratis",
                ctaButton: "Inicia Tu Calendario Interactivo y Plan de Negocio Gratis Ahora",
                ctaSubtext: "No se requiere email para navegar ‚Ä¢ El proceso completo toma 20-25 minutos",
                stepDescTitle: "üëã ¬°Comencemos!",
                stepDescText: "Primero, conozc√°monos mejor para poder crear el calendario interactivo y plan de negocio perfecto para tu situaci√≥n √∫nica.",
                empowermentTitle: "¬°Ya Eres Exitosa! üåü",
                empowermentText: "Manejar una familia es dirigir una organizaci√≥n compleja. Tienes habilidades de negociaci√≥n, experiencia en gesti√≥n del tiempo y capacidades de resoluci√≥n de crisis que la mayor√≠a de los CEOs envidiar√≠an. ¬°Ahora canalizemos eso hacia TU vida organizada y negocio exitoso!",
                basicInfoTitle: "üëã Informaci√≥n B√°sica",
                nameLabel: "Tu Nombre:",
                emailLabel: "Tu Correo Electr√≥nico:",
                pathSelectionTitle: "¬øQu√© te trae aqu√≠ hoy? Elige tu enfoque principal:",
                pathTitle1: "Organizaci√≥n de Vida",
                pathDesc1: "Necesito ayuda organizando mi vida diaria, horarios familiares y sistemas del hogar",
                pathTitle2: "Lanzamiento de Negocio",
                pathDesc2: "Quiero iniciar un negocio o crear fuentes de ingresos pasivos",
                pathTitle3: "Ambos: Vida y Negocio",
                pathDesc3: "Necesito organizaci√≥n de vida Y quiero iniciar un negocio",
                continueBtnText: "Continuar con el Camino Seleccionado",
                businessQuestionnaireTitle: "üíº Preferencias de Negocio",
                investmentLabel: "Nivel de inversi√≥n para el negocio:",
                workLocationLabel: "Ubicaci√≥n de Trabajo Preferida:",
                workStyleLabel: "Estilo de Trabajo Preferido:",
                cameraComfortLabel: "¬øTe sientes c√≥moda frente a la c√°mara/redes sociales?",
                incomeTimelineLabel: "Cronograma para primeros ingresos:",
                totalBudgetLabel: "Presupuesto m√°ximo de inicio (total):",
                familyStructureLabel: "Estructura familiar y edades:",
                dailyScheduleLabel: "Describe tu horario diario t√≠pico:",
                proceedBtnText: "Generar Mi Plan Personalizado con IA",
                startWorkflowText: "üöÄ Iniciar Flujo de Trabajo Interactivo con IA",
                workflowTitle: "üîÑ Flujo de Trabajo Interactivo con IA",
                workflowDescription: "Sigue estos pasos para construir tu plan de negocios completo. Cada paso se basa en el anterior para m√°xima efectividad.",
                step1Title: "ü§ñ Paso 1: Obtener Ideas de Negocio de ChatGPT",
                step1InstructionTitle: "Instrucciones:",
                step1Instructions: "1. Copia el prompt de ChatGPT de arriba<br>2. Ve a ChatGPT y pega el prompt<br>3. Espera la respuesta completa<br>4. Copia TODA la respuesta y p√©gala abajo",
                chatgptResponseLabel: "Respuesta de ChatGPT:",
                processStep1Text: "üìà Procesar Respuesta de ChatGPT",
                step2Title: "üíé Paso 2: Investigaci√≥n de MVP con B√∫squeda Profunda de Gemini",
                step2InstructionTitle: "Instrucciones:",
                step2Instructions: "1. Copia el prompt de abajo a Gemini<br>2. IMPORTANTE: Elige la opci√≥n \"B√∫squeda Profunda\" en Gemini<br>3. Espera a que Gemini confirme que la B√∫squeda Profunda est√° completa<br>4. Copia TODA la respuesta y p√©gala abajo",
                geminiMvpResponseLabel: "Respuesta de Investigaci√≥n MVP de Gemini:",
                processStep2Text: "üîç Procesar Investigaci√≥n MVP",
                step3Title: "üí∞ Paso 3: Investigaci√≥n de Precios con B√∫squeda Profunda de Gemini",
                step3InstructionTitle: "Instrucciones:",
                step3Instructions: "1. Copia el prompt de precios de abajo a Gemini<br>2. IMPORTANTE: Elige \"B√∫squeda Profunda\" nuevamente<br>3. Espera a que Gemini complete la B√∫squeda Profunda<br>4. Copia TODA la respuesta de precios abajo",
                geminiPricingResponseLabel: "Respuesta de Investigaci√≥n de Precios de Gemini:",
                processStep3Text: "üíπ Procesar Investigaci√≥n de Precios",
                step4Title: "üé® Paso 4: Generar Infograf√≠a de Negocio",
                step4InstructionTitle: "Instrucciones:",
                step4Instructions: "1. Copia el prompt de infograf√≠a de abajo a Gemini<br>2. Pide a Gemini que cree una infograf√≠a visual<br>3. IMPORTANTE: Copia solo el C√ìDIGO HTML/SVG, no la explicaci√≥n<br>4. Pega el c√≥digo abajo para integraci√≥n",
                geminiInfographicCodeLabel: "C√≥digo HTML/SVG de Infograf√≠a:",
                processStep4Text: "üé® Integrar Infograf√≠a",
                step5Title: "üìÖ Paso 5: Crear Calendario Interactivo con Claude",
                step5InstructionTitle: "Instrucciones:",
                step5Instructions: "1. Copia el prompt completo de Claude de abajo<br>2. Ve a Claude y pega el prompt<br>3. Espera la respuesta completa del calendario de Claude<br>4. Copia TODA la respuesta y p√©gala abajo",
                claudeCalendarResponseLabel: "Respuesta del Calendario de Claude:",
                processStep5Text: "üìÖ Generar Calendario Final",
                finalDashboardTitle: "üéâ Tu Plan de Negocios Smart Mom Completo",
                finalDashboardDescription: "¬°Felicidades! Tu plan de negocios impulsado por IA est√° completo. Aqu√≠ est√° tu panel integrado con todos los componentes.",
                infographicDisplayTitle: "üé® Tu Infograf√≠a de Negocio",
                calendarDisplayTitle: "üìÖ Tu Calendario Interactivo de Negocio",
                businessPlanSummaryTitle: "üìã Resumen Completo del Plan de Negocios",
                downloadCompleteText: "üì• Descargar Plan de Negocios Completo",
                getPersonalizedText: "üéØ Obtener Tu Calendario y Entrenamiento Personalizado"
            }
        };

        // Sequential Workflow Functions
        let workflowResponses = {
            chatgpt: '',
            geminiMvp: '',
            geminiPricing: '',
            geminiInfographic: '',
            claude: ''
        };

        // Initialize the application
        function initializeApp() {
            updateUIText();
            checkInitialFields();
            
            // Add auth form submission handler
            document.getElementById('authForm').addEventListener('submit', handleAuthSubmit);
            
            // Show setup message in console
            console.log('üöÄ SMART MOM METHOD - COMPLETE VERSION LOADED');
            console.log('‚úÖ Full business questionnaire active');
            console.log('‚úÖ AI prompt generation ready');
            console.log('‚úÖ Stripe payments integrated');
            console.log('‚úÖ Calendly booking integrated');
            console.log('‚úÖ Airtable + localStorage fallback');
            console.log('‚úÖ English/Spanish support');
            console.log('‚úÖ Sequential AI Workflow active');
        }

        // Utility function for safe webhook calls
        async function safeWebhookCall(url, data, description = 'webhook') {
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    console.log(`‚úÖ ${description} sent successfully`);
                } else {
                    console.log(`‚ö†Ô∏è ${description} responded with status ${response.status} - continuing anyway`);
                }
            } catch (error) {
                console.log(`‚ö†Ô∏è ${description} failed (likely CORS) - continuing anyway:`, error.message);
                // Don't throw - let the user experience continue
            }
        }

        // Authentication Functions
        async function handleAuthSubmit(e) {
            e.preventDefault();
            
            const email = document.getElementById('authEmail').value.trim();
            const password = document.getElementById('authPassword').value;
            const name = document.getElementById('authName').value.trim();
            const confirmPassword = document.getElementById('authConfirmPassword').value;
            
            const errorDiv = document.getElementById('authError');
            const successDiv = document.getElementById('authSuccess');
            const submitBtn = document.getElementById('authSubmitBtn');
            
            // Clear previous messages
            errorDiv.classList.add('hidden');
            successDiv.classList.add('hidden');
            
            // Validation
            if (!email || !password) {
                showAuthError('Please fill in all required fields.');
                return;
            }
            
            const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            if (!emailValid) {
                showAuthError('Please enter a valid email address.');
                return;
            }
            
            if (authMode === 'signup') {
                if (!name) {
                    showAuthError('Please enter your name.');
                    return;
                }
                
                if (password !== confirmPassword) {
                    showAuthError('Passwords do not match.');
                    return;
                }
                
                if (password.length < 6) {
                    showAuthError('Password must be at least 6 characters long.');
                    return;
                }
            }
            
            // Show loading state
            submitBtn.textContent = authMode === 'signup' ? 'Creating Account...' : 'Signing In...';
            submitBtn.disabled = true;
            
            try {
                if (authMode === 'signup') {
                    await handleSignup(email, password, name);
                } else {
                    await handleSignin(email, password);
                }
            } catch (error) {
                console.error('Auth error:', error);
                showAuthError('An error occurred. Please try again.');
            }
            
            // Reset button
            submitBtn.textContent = authMode === 'signup' ? 'Create Account' : 'Sign In';
            submitBtn.disabled = false;
        }

        async function handleSignup(email, password, name) {
            // Create simple password hash (in production, use proper hashing)
            const passwordHash = btoa(password); // Basic encoding - use proper hashing in production
            
            const userData = {
                email: email,
                name: name,
                selectedPath: '',
                currentStep: 1,
                language: currentLanguage,
                formData: {},
                passwordHash: passwordHash,
                createdAt: new Date().toISOString()
            };
            
            // Check localStorage for existing users
            const localUsers = JSON.parse(localStorage.getItem('smartMomUsers') || '{}');
            if (localUsers[email]) {
                showAuthError('An account with this email already exists. Please sign in instead.');
                return;
            }
            
            // Save to localStorage (guaranteed to work)
            localUsers[email] = userData;
            localStorage.setItem('smartMomUsers', JSON.stringify(localUsers));
            
            showAuthSuccess('Account created successfully! Your progress will be saved locally.');
            
            // Send welcome email webhook (non-blocking)
            safeWebhookCall('https://momsurvivaltoolkit.app.n8n.cloud/webhook-test/smart-mom-welcome', {
                email: userData.email,
                name: userData.name,
                trigger_welcome_email: 'true',
                account_created: 'true',
                language: userData.language,
                timestamp: new Date().toISOString()
            }, 'Welcome email');
            
            // Auto-fill the main form
            document.getElementById('user-name').value = name;
            document.getElementById('user-email').value = email;
            
            // Close modal after delay
            setTimeout(() => {
                closeAuthModal();
                checkInitialFields();
            }, 2000);
        }

        async function handleSignin(email, password) {
            const localUsers = JSON.parse(localStorage.getItem('smartMomUsers') || '{}');
            const userData = localUsers[email];
            
            if (!userData) {
                showAuthError('No account found with this email address.');
                return;
            }
            
            // Check password (basic comparison - use proper verification in production)
            const storedHash = userData.passwordHash || '';
            const passwordHash = btoa(password);
            
            if (storedHash !== passwordHash) {
                showAuthError('Incorrect password.');
                return;
            }
            
            showAuthSuccess(`Welcome back, ${userData.name}!`);
            
            // Load user progress
            setTimeout(() => {
                loadUserProgress(userData);
                closeAuthModal();
            }, 1500);
        }

        function showAuthError(message) {
            const errorDiv = document.getElementById('authError');
            errorDiv.textContent = message;
            errorDiv.classList.remove('hidden');
        }

        function showAuthSuccess(message) {
            const successDiv = document.getElementById('authSuccess');
            successDiv.textContent = message;
            successDiv.classList.remove('hidden');
        }

        // Language Functions
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Update active language button
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            updateUIText();
        }

        function updateUIText() {
            const t = translations[currentLanguage];
            
            // Update all text elements
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });
            
            // Update placeholders
            const placeholders = {
                'user-name': currentLanguage === 'es' ? 'Ingresa tu nombre' : 'Enter your name',
                'user-email': currentLanguage === 'es' ? 'tu.correo@ejemplo.com' : 'your.email@example.com',
                'family-structure': currentLanguage === 'es' ? 'Cu√©ntanos sobre tu familia: ¬øCu√°ntos hijos? ¬øQu√© edades? ¬øAlguna necesidad especial o consideraci√≥n?' : 'Tell us about your family: How many kids? What ages? Any special needs or considerations?',
                'daily-schedule': currentLanguage === 'es' ? 'Cu√©ntanos sobre un d√≠a t√≠pico: ¬øA qu√© hora despiertas? ¬øHorarios de los ni√±os? ¬øCu√°ndo tienes tiempo libre?' : 'Walk us through a typical day: When do you wake up? Kids\' schedules? When do you have free time?'
            };
            
            Object.entries(placeholders).forEach(([id, text]) => {
                const element = document.getElementById(id);
                if (element) element.placeholder = text;
            });
        }

        // Modal Functions
        function startOnboarding() {
            document.getElementById('welcomeModal').classList.add('hidden');
        }

        function showAuthModal(mode) {
            authMode = mode;
            const modal = document.getElementById('authModal');
            const title = document.getElementById('authTitle');
            const submitBtn = document.getElementById('authSubmitBtn');
            const switchText = document.getElementById('authSwitchText');
            const switchLink = document.getElementById('authSwitchLink');
            const nameField = document.getElementById('authName');
            const confirmField = document.getElementById('authConfirmPassword');

            if (mode === 'signup') {
                title.textContent = 'Create Your Account';
                submitBtn.textContent = 'Create Account';
                switchText.textContent = 'Already have an account?';
                switchLink.textContent = 'Sign In';
                nameField.style.display = 'block';
                confirmField.style.display = 'block';
            } else {
                title.textContent = 'Sign In';
                submitBtn.textContent = 'Sign In';
                switchText.textContent = "Don't have an account?";
                switchLink.textContent = 'Create Account';
                nameField.style.display = 'none';
                confirmField.style.display = 'none';
            }

            modal.classList.add('active');
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.remove('active');
        }

        function toggleAuthMode() {
            showAuthModal(authMode === 'signup' ? 'signin' : 'signup');
        }

        async function handleReturningUser() {
            document.getElementById('welcomeModal').classList.add('hidden');
            
            // Create a better input modal instead of using prompt
            const modal = document.createElement('div');
            modal.className = 'auth-modal active';
            modal.id = 'returningUserModal';
            
            modal.innerHTML = `
                <div class="auth-content">
                    <button class="auth-close" onclick="closeReturningUserModal()">&times;</button>
                    <h2 class="auth-title">${currentLanguage === 'es' ? 'Bienvenida de Nuevo' : 'Welcome Back'}</h2>
                    
                    <div id="returningUserError" class="auth-error hidden"></div>
                    <div id="returningUserSuccess" class="auth-success hidden"></div>
                    
                    <div class="auth-form">
                        <input type="email" id="returningUserEmail" class="auth-input" placeholder="${currentLanguage === 'es' ? 'Tu correo electr√≥nico' : 'Your email address'}" required>
                        <button type="button" class="auth-button" onclick="lookupReturningUser()" id="lookupBtn">
                            ${currentLanguage === 'es' ? 'Buscar Mi Progreso' : 'Find My Progress'}
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
        }

        function closeReturningUserModal() {
            const modal = document.getElementById('returningUserModal');
            if (modal) {
                modal.remove();
                document.getElementById('welcomeModal').classList.remove('hidden');
            }
        }

        async function lookupReturningUser() {
            const email = document.getElementById('returningUserEmail').value.trim();
            const errorDiv = document.getElementById('returningUserError');
            const successDiv = document.getElementById('returningUserSuccess');
            const lookupBtn = document.getElementById('lookupBtn');
            
            // Clear previous messages
            errorDiv.classList.add('hidden');
            successDiv.classList.add('hidden');
            
            if (!email) {
                errorDiv.textContent = currentLanguage === 'es' ? 
                    'Por favor ingresa tu correo electr√≥nico.' : 
                    'Please enter your email address.';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Validate email format
            const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            if (!emailValid) {
                errorDiv.textContent = currentLanguage === 'es' ? 
                    'Por favor ingresa un correo electr√≥nico v√°lido.' : 
                    'Please enter a valid email address.';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Show loading state
            lookupBtn.textContent = currentLanguage === 'es' ? 'Buscando...' : 'Looking up...';
            lookupBtn.disabled = true;

            // Use localStorage for user lookup
            const localUsers = JSON.parse(localStorage.getItem('smartMomUsers') || '{}');
            const userData = localUsers[email];
            
            if (userData) {
                // Success! Load user data
                successDiv.textContent = currentLanguage === 'es' ? 
                    `¬°Encontrado! Bienvenida de nuevo, ${userData.name || 'Smart Mom'}!` : 
                    `Found! Welcome back, ${userData.name || 'Smart Mom'}!`;
                successDiv.classList.remove('hidden');
                
                // Load user progress
                setTimeout(() => {
                    loadUserProgress(userData);
                    closeReturningUserModal();
                }, 1500);
                
            } else {
                // User not found
                errorDiv.textContent = currentLanguage === 'es' ? 
                    'Correo no encontrado en el almacenamiento local. ¬øTe gustar√≠a empezar un nuevo viaje?' : 
                    'Email not found in local storage. Would you like to start a new journey?';
                errorDiv.classList.remove('hidden');
                
                // Offer to start new journey
                setTimeout(() => {
                    if (confirm(currentLanguage === 'es' ? 
                        '¬øQuieres empezar desde el principio?' : 
                        'Would you like to start from the beginning?')) {
                        closeReturningUserModal();
                    }
                }, 2000);
            }

            // Reset button
            lookupBtn.textContent = currentLanguage === 'es' ? 'Buscar Mi Progreso' : 'Find My Progress';
            lookupBtn.disabled = false;
        }

        function loadUserProgress(userData) {
            // Set global variables
            selectedPath = userData.selectedPath || '';
            currentLanguage = userData.language || 'en';
            
            // Update language UI
            changeLanguage(currentLanguage);
            
            // Fill form fields if they exist
            if (userData.name) {
                const nameField = document.getElementById('user-name');
                if (nameField) nameField.value = userData.name;
            }
            
            if (userData.email) {
                const emailField = document.getElementById('user-email');
                if (emailField) emailField.value = userData.email;
            }
            
            // Fill other form data
            Object.keys(userData.formData || {}).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.value = userData.formData[key];
                }
            });
            
            // Show appropriate step based on progress
            if (userData.selectedPath) {
                // User has selected a path, show questionnaire or continue to next steps
                if (userData.currentStep >= 3) {
                    // Show AI results or later steps
                    showBusinessQuestionnaire();
                } else {
                    // Show path selection with pre-selected path
                    document.getElementById('pathSelection').classList.remove('hidden');
                    const pathOption = document.querySelector(`[data-path="${userData.selectedPath}"]`);
                    if (pathOption) {
                        pathOption.classList.add('selected');
                        document.getElementById('continueBtn').classList.add('visible');
                    }
                }
            } else {
                // User hasn't selected a path yet, show path selection
                const nameField = document.getElementById('user-name');
                const emailField = document.getElementById('user-email');
                if (nameField && emailField && nameField.value && emailField.value) {
                    document.getElementById('pathSelection').classList.remove('hidden');
                }
            }
        }

        // Form Functions
        function validateField(field) {
            const value = field.value.trim();
            const validation = document.getElementById(field.id + '-validation');
            
            if (field.type === 'email') {
                const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
                if (value && emailValid) {
                    validation.textContent = '‚úì Valid email';
                    validation.className = 'validation-message success';
                    field.style.borderColor = 'var(--sage-green)';
                } else if (value) {
                    validation.textContent = 'Please enter a valid email address';
                    validation.className = 'validation-message';
                    field.style.borderColor = '#e57373';
                } else {
                    validation.textContent = '';
                    field.style.borderColor = 'var(--light-sage)';
                }
            } else if (field.tagName === 'SELECT') {
                if (value) {
                    validation.textContent = '‚úì Selected';
                    validation.className = 'validation-message success';
                    field.style.borderColor = 'var(--sage-green)';
                } else {
                    validation.textContent = 'Please make a selection';
                    validation.className = 'validation-message';
                    field.style.borderColor = '#e57373';
                }
            } else if (field.tagName === 'TEXTAREA') {
                if (value.length >= 10) {
                    validation.textContent = '‚úì Looks good';
                    validation.className = 'validation-message success';
                    field.style.borderColor = 'var(--sage-green)';
                } else if (value.length > 0) {
                    validation.textContent = 'Please provide more detail (at least 10 characters)';
                    validation.className = 'validation-message';
                    field.style.borderColor = '#e57373';
                } else {
                    validation.textContent = '';
                    field.style.borderColor = 'var(--light-sage)';
                }
            } else {
                if (value.length >= 2) {
                    validation.textContent = '‚úì Looks good';
                    validation.className = 'validation-message success';
                    field.style.borderColor = 'var(--sage-green)';
                } else if (value.length > 0) {
                    validation.textContent = 'Please enter at least 2 characters';
                    validation.className = 'validation-message';
                    field.style.borderColor = '#e57373';
                } else {
                    validation.textContent = '';
                    field.style.borderColor = 'var(--light-sage)';
                }
            }
        }

        function updateCharCount(textarea, maxChars) {
            const counter = document.getElementById(textarea.id + '-counter');
            const currentLength = textarea.value.length;
            counter.textContent = `${currentLength}/${maxChars}`;
            
            if (currentLength > maxChars) {
                counter.style.color = '#e57373';
                textarea.value = textarea.value.substring(0, maxChars);
                counter.textContent = `${maxChars}/${maxChars}`;
            } else if (currentLength > maxChars * 0.9) {
                counter.style.color = '#f39c12';
            } else {
                counter.style.color = 'var(--charcoal)';
            }
        }

        function checkInitialFields() {
            const nameField = document.getElementById('user-name');
            const emailField = document.getElementById('user-email');
            
            function validate() {
                const name = nameField?.value.trim() || '';
                const email = emailField?.value.trim() || '';
                const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
                
                if (name.length >= 2 && email && emailValid) {
                    document.getElementById('pathSelection').classList.remove('hidden');
                    document.getElementById('pathSelection').scrollIntoView({ behavior: 'smooth' });
                } else {
                    document.getElementById('pathSelection').classList.add('hidden');
                }
            }
            
            if (nameField) nameField.addEventListener('input', validate);
            if (emailField) emailField.addEventListener('input', validate);
        }

        function scrollToForm() {
            document.getElementById('basicInfoSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Path Selection Functions
        function selectPath(path) {
            selectedPath = path;
            
            // Update visual selection
            document.querySelectorAll('.path-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`[data-path="${path}"]`).classList.add('selected');
            
            // Show continue button
            const continueBtn = document.getElementById('continueBtn');
            continueBtn.classList.add('visible');
        }

        function showBusinessQuestionnaire() {
            if (!selectedPath) {
                alert(currentLanguage === 'es' ? 
                    'Por favor selecciona un camino antes de continuar.' :
                    'Please select a path before continuing.');
                return;
            }

            // Hide path selection
            document.getElementById('pathSelection').classList.add('hidden');
            
            // Show business questionnaire
            document.getElementById('businessQuestionnaire').classList.remove('hidden');
            document.getElementById('businessQuestionnaire').scrollIntoView({ behavior: 'smooth' });
        }

        async function proceedWithQuestionnaire() {
            // Validate all required fields
            const requiredFields = [
                'investment-level', 'work-location', 'work-style', 
                'camera-comfort', 'income-timeline', 'total-budget', 
                'family-structure', 'daily-schedule'
            ];

            let allValid = true;
            for (const fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (field) {
                    validateField(field);
                    if (!field.value.trim()) {
                        allValid = false;
                    }
                }
            }

            if (!allValid) {
                alert(currentLanguage === 'es' ? 
                    'Por favor completa todos los campos requeridos antes de continuar.' :
                    'Please complete all required fields before continuing.');
                return;
            }

            // Get user data
            const userData = collectFormData();

            // Save to localStorage 
            const localUsers = JSON.parse(localStorage.getItem('smartMomUsers') || '{}');
            if (localUsers[userData.email]) {
                // Update existing user
                localUsers[userData.email] = { ...localUsers[userData.email], ...userData };
            } else {
                // Create new entry
                localUsers[userData.email] = userData;
            }
            localStorage.setItem('smartMomUsers', JSON.stringify(localUsers));
            console.log('User questionnaire data saved locally:', userData);
            
            // Hide questionnaire
            document.getElementById('businessQuestionnaire').classList.add('hidden');
            
            // Show AI processing
            document.getElementById('aiProcessSteps').classList.remove('hidden');
            document.getElementById('aiProcessSteps').scrollIntoView({ behavior: 'smooth' });
            
            // Send webhook notification (non-blocking)
            safeWebhookCall('https://momsurvivaltoolkit.app.n8n.cloud/webhook-test/smart-mom-form', {
                ...userData,
                trigger_questionnaire_complete: 'true',
                lead_stage: 'Questionnaire Complete',
                timestamp: new Date().toISOString()
            }, 'Questionnaire completion notification');
            
            // Simulate AI processing
            await simulateAISteps();
        }

        function collectFormData() {
            return {
                email: document.getElementById('user-email')?.value.trim() || '',
                name: document.getElementById('user-name')?.value.trim() || '',
                selectedPath: selectedPath,
                currentStep: 3,
                language: currentLanguage,
                'investment-level': document.getElementById('investment-level')?.value || '',
                'work-location': document.getElementById('work-location')?.value || '',
                'work-style': document.getElementById('work-style')?.value || '',
                'camera-comfort': document.getElementById('camera-comfort')?.value || '',
                'income-timeline': document.getElementById('income-timeline')?.value || '',
                'total-budget': document.getElementById('total-budget')?.value || '',
                'family-structure': document.getElementById('family-structure')?.value || '',
                'daily-schedule': document.getElementById('daily-schedule')?.value || '',
                formData: {
                    'user-name': document.getElementById('user-name')?.value.trim() || '',
                    'user-email': document.getElementById('user-email')?.value.trim() || '',
                    'investment-level': document.getElementById('investment-level')?.value || '',
                    'work-location': document.getElementById('work-location')?.value || '',
                    'work-style': document.getElementById('work-style')?.value || '',
                    'camera-comfort': document.getElementById('camera-comfort')?.value || '',
                    'income-timeline': document.getElementById('income-timeline')?.value || '',
                    'total-budget': document.getElementById('total-budget')?.value || '',
                    'family-structure': document.getElementById('family-structure')?.value || '',
                    'daily-schedule': document.getElementById('daily-schedule')?.value || ''
                }
            };
        }

        // AI Functions
        async function simulateAISteps() {
            const steps = [
                { id: 'ai-step-1', duration: 3000, icon: 'üîç', status: 'Analyzing...' },
                { id: 'ai-step-2', duration: 4000, icon: 'ü§ñ', status: 'Generating...' },
                { id: 'ai-step-3', duration: 3500, icon: 'üíé', status: 'Researching...' },
                { id: 'ai-step-4', duration: 2500, icon: 'üß†', status: 'Creating...' }
            ];

            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const stepElement = document.getElementById(step.id);
                
                // Start processing this step
                stepElement.classList.add('processing');
                stepElement.querySelector('.ai-step-icon').textContent = step.icon;
                stepElement.querySelector('.ai-step-status').textContent = step.status;
                
                // Wait for the step duration
                await new Promise(resolve => setTimeout(resolve, step.duration));
                
                // Complete this step
                stepElement.classList.remove('processing');
                stepElement.classList.add('completed');
                stepElement.querySelector('.ai-step-icon').textContent = '‚úÖ';
                stepElement.querySelector('.ai-step-status').textContent = 'Completed!';
                
                // Small delay between steps
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            // All steps completed, generate AI prompts and show results
            await new Promise(resolve => setTimeout(resolve, 1000));
            generateAIPrompts();
            showAIResults();
        }

        function generateAIPrompts() {
            const data = collectFormData();
            
            // Generate ChatGPT prompt
            const chatgptPrompt = generateChatGPTPrompt(data);
            document.getElementById('chatgpt-prompt').value = chatgptPrompt;
            
            // Generate Gemini prompt
            const geminiPrompt = generateGeminiPrompt(data);
            document.getElementById('gemini-prompt').value = geminiPrompt;
            
            // Generate Claude prompt
            const claudePrompt = generateClaudePrompt(data);
            document.getElementById('claude-prompt').value = claudePrompt;
        }

        function generateChatGPTPrompt(data) {
            return `${realismInstructions}

Create 3 personalized business ideas for a busy mom with this profile:

**Personal Details:**
- Name: ${data.name}
- Selected Path: ${data.selectedPath}
- Investment Level: ${data['investment-level']}
- Work Location: ${data['work-location']}
- Work Style: ${data['work-style']}
- Camera Comfort: ${data['camera-comfort']}
- Income Timeline: ${data['income-timeline']}
- Total Budget: ${data['total-budget']}

**Family & Schedule:**
- Family Structure: ${data['family-structure']}
- Daily Schedule: ${data['daily-schedule']}

Based on this information, suggest 3 realistic business ideas that:
1. Match her work location and style preferences
2. Fit within her budget and timeline constraints
3. Work with her family schedule and commitments
4. Respect her camera/social media comfort level
5. Are actually doable for a mom with limited time

For each business idea, include:
- Business concept (be specific)
- Why it fits her situation
- Realistic income potential in first 6 months
- Time commitment required per week
- Initial steps to get started
- Potential challenges and how to overcome them

Remember: Be brutally honest about what's realistic vs. what sounds good on paper.`;
        }

        function generateGeminiPrompt(data) {
            return `${realismInstructions}

Research market opportunities for a mom entrepreneur with these constraints:

**Mom's Profile:**
- Investment Level: ${data['investment-level']}
- Work Location: ${data['work-location']}  
- Work Style: ${data['work-style']}
- Camera Comfort: ${data['camera-comfort']}
- Income Timeline: ${data['income-timeline']}
- Total Budget: ${data['total-budget']}
- Family: ${data['family-structure']}
- Schedule: ${data['daily-schedule']}

Please research and provide:

1. **Market Validation** - What businesses are actually working for moms in similar situations?
2. **Competition Analysis** - Who's already doing this? How saturated are these markets?
3. **Pricing Research** - What can she realistically charge? What do competitors charge?
4. **Target Audience** - Who would buy from a mom in her situation?
5. **Marketing Channels** - Where can she reach customers within her constraints?
6. **Success Stories** - Find real examples of moms who've succeeded in similar circumstances
7. **Failure Points** - What are the common reasons these businesses fail?

Focus on: 
- Current market trends (2024/2025)
- What's oversaturated vs. underserved
- Realistic timeline expectations
- Budget-conscious strategies

Be specific with data, examples, and actionable insights. Don't just give generic advice.`;
        }

        function generateClaudePrompt(data) {
            return `${realismInstructions}

Create a comprehensive business plan for a mom entrepreneur:

**Mom's Profile:**
- Name: ${data.name}
- Path: ${data.selectedPath}
- Investment: ${data['investment-level']}
- Location: ${data['work-location']}
- Style: ${data['work-style']}
- Camera: ${data['camera-comfort']}
- Timeline: ${data['income-timeline']}
- Budget: ${data['total-budget']}
- Family: ${data['family-structure']}
- Schedule: ${data['daily-schedule']}

Create a detailed business plan including:

**1. Business Selection & Validation**
- Choose the most viable business idea for her specific situation
- Explain why this beats other options
- Market validation approach

**2. Implementation Timeline**
- Week-by-week action plan for first 90 days
- Realistic milestones and goals
- Integration with her family schedule

**3. Financial Projections**
- Startup costs breakdown
- Monthly expense projections
- Realistic revenue timeline
- Break-even analysis

**4. Marketing Strategy**
- Customer acquisition plan within her constraints
- Content strategy (considering camera comfort)
- Budget-friendly marketing tactics

**5. Operations Plan**
- Daily/weekly business tasks
- How to manage family + business
- Systems and tools needed

**6. Risk Management**
- Potential challenges and solutions
- Plan B options
- What to do if things don't work

**7. Interactive Calendar Framework**
- Time-blocked schedule template
- Integration with family needs
- Growth planning schedule

Be specific, actionable, and brutally realistic. Include exact steps, timeframes, and contingency plans.`;
        }

        function showAIResults() {
            // Hide AI processing and show results
            document.getElementById('aiProcessSteps').classList.add('hidden');
            document.getElementById('aiResults').classList.remove('hidden');
            document.getElementById('aiResults').scrollIntoView({ behavior: 'smooth' });
        }

        // Sequential Workflow Functions
        function startSequentialWorkflow() {
            // Hide AI results and show workflow
            document.getElementById('aiResults').classList.add('hidden');
            document.getElementById('sequentialWorkflow').classList.remove('hidden');
            document.getElementById('sequentialWorkflow').scrollIntoView({ behavior: 'smooth' });
            
            // Generate the sequential prompts
            generateSequentialPrompts();
        }

        function generateSequentialPrompts() {
            const data = collectFormData();
            
            // Generate Gemini MVP prompt that incorporates ChatGPT response
            const geminiMvpPrompt = generateGeminiMVPPrompt(data);
            document.getElementById('gemini-mvp-prompt').value = geminiMvpPrompt;
            
            // Generate Gemini Pricing prompt that will incorporate MVP response
            const geminiPricingPrompt = generateGeminiPricingPrompt(data);
            document.getElementById('gemini-pricing-prompt').value = geminiPricingPrompt;
            
            // Generate Gemini Infographic prompt that will incorporate pricing response
            const geminiInfographicPrompt = generateGeminiInfographicPrompt(data);
            document.getElementById('gemini-infographic-prompt').value = geminiInfographicPrompt;
            
            // Generate Claude Calendar prompt that will incorporate all responses
            const claudeCalendarPrompt = generateClaudeCalendarPrompt(data);
            document.getElementById('claude-calendar-prompt').value = claudeCalendarPrompt;
        }

        function generateGeminiMVPPrompt(data) {
            return `${realismInstructions}

**CONTEXT:** I just received business ideas from ChatGPT for a mom entrepreneur. Now I need your help with deep market research and MVP validation.

**Mom's Profile:**
- Investment Level: ${data['investment-level']}
- Work Location: ${data['work-location']}
- Work Style: ${data['work-style']}
- Camera Comfort: ${data['camera-comfort']}
- Income Timeline: ${data['income-timeline']}
- Total Budget: ${data['total-budget']}
- Family: ${data['family-structure']}
- Schedule: ${data['daily-schedule']}

**ChatGPT Business Ideas:** [Will be replaced with actual response]

Using DEEP SEARCH, please research and provide:

1. **MVP Validation** - For the most promising business idea from ChatGPT, what's the simplest MVP she could create?
2. **Market Size & Competition** - Who else is doing this? How saturated is the market?
3. **Customer Validation** - Where can she find and validate potential customers?
4. **Success Metrics** - What KPIs should she track in the first 90 days?
5. **Resource Requirements** - What tools, skills, or partnerships does she need?
6. **Risk Assessment** - What are the biggest risks and how to mitigate them?
7. **Timeline to Launch** - Realistic timeline from idea to first paying customer

Focus on ACTIONABLE insights with specific examples and real market data from your deep search.`;
        }

        function generateGeminiPricingPrompt(data) {
            return `${realismInstructions}

**CONTEXT:** Following up on our MVP research, I now need comprehensive pricing strategy research.

**Mom's Profile:**
- Investment Level: ${data['investment-level']}
- Work Location: ${data['work-location']}
- Income Timeline: ${data['income-timeline']}
- Total Budget: ${data['total-budget']}
- Family Situation: ${data['family-structure']}

**Previous MVP Research:** [Will be replaced with actual Gemini MVP response]

Using DEEP SEARCH again, please research and provide:

1. **Competitive Pricing Analysis** - What do similar businesses charge? Include specific examples and price ranges
2. **Value-Based Pricing** - What's the actual value/ROI her customers would receive?
3. **Pricing Psychology** - Optimal pricing structures for her target market
4. **Package Options** - Should she offer tiers? What would each tier include?
5. **Payment Models** - One-time, recurring, project-based? What works best?
6. **Market Testing** - How can she test different price points with minimal risk?
7. **Scalability** - How can pricing evolve as she grows?
8. **Local vs. National** - Price differences based on geographic location

Provide specific dollar amounts, pricing strategies, and examples from successful mom entrepreneurs in similar markets.`;
        }

        function generateGeminiInfographicPrompt(data) {
            return `**CONTEXT:** Create a visual business plan infographic based on our research.

**Previous Research Summary:**
- MVP Research: [Will be replaced with actual MVP response]
- Pricing Research: [Will be replaced with actual pricing response]

**Mom's Business Profile:**
- Path: ${data.selectedPath}
- Budget: ${data['total-budget']}
- Timeline: ${data['income-timeline']}
- Work Style: ${data['work-style']}

Please create a beautiful, professional infographic that visualizes her business plan. Include:

1. **Business Overview** - Main business concept and value proposition
2. **Target Market** - Who are her ideal customers
3. **Revenue Model** - How she'll make money
4. **MVP Roadmap** - Key milestones in first 90 days
5. **Pricing Strategy** - Service/product pricing structure
6. **Success Metrics** - KPIs to track

**IMPORTANT:** Please provide the complete HTML/SVG code for the infographic, not just a description. Use modern design with:
- Clean, professional layout
- Smart Mom Method brand colors: #6B8E6B (sage green), #2D5B69 (deep teal), #D4A574 (soft gold)
- Icons and visual elements
- Responsive design
- Easy to read fonts

Generate the actual HTML/SVG code that I can integrate directly into the website.`;
        }

        function generateClaudeCalendarPrompt(data) {
            return `${realismInstructions}

**COMPREHENSIVE BUSINESS CALENDAR CREATION**

**Mom's Complete Profile:**
- Name: ${data.name}
- Selected Path: ${data.selectedPath}
- Investment: ${data['investment-level']}
- Work Location: ${data['work-location']}
- Work Style: ${data['work-style']}
- Camera Comfort: ${data['camera-comfort']}
- Timeline: ${data['income-timeline']}
- Budget: ${data['total-budget']}
- Family: ${data['family-structure']}
- Daily Schedule: ${data['daily-schedule']}

**Previous AI Research:**
- ChatGPT Business Ideas: [Will be replaced with actual response]
- Gemini MVP Research: [Will be replaced with actual MVP response]  
- Gemini Pricing Strategy: [Will be replaced with actual pricing response]

Based on ALL the previous research and her specific family situation, create a comprehensive 90-day interactive business calendar that includes:

**Week-by-Week Action Plan:**
- Specific tasks for each week
- Time estimates for each task
- Integration with her family schedule
- Realistic expectations based on her available time

**Daily Business Building Blocks:**
- Morning routines (before kids wake up)
- Naptime/quiet time productivity blocks
- Evening business development
- Weekend family-friendly business activities

**Monthly Milestones:**
- Month 1: Foundation building and MVP development
- Month 2: Customer acquisition and validation
- Month 3: Revenue generation and scaling

**Family Integration Strategy:**
- How to involve kids appropriately
- Managing business calls with family life
- Backup plans for sick days/emergencies
- Support system development

**Financial Tracking System:**
- Revenue goals and tracking
- Expense management
- Profit calculations
- Emergency fund planning

**Time Management Framework:**
- Priority matrix for business vs. family
- Batch working strategies
- Delegation opportunities
- Self-care integration

Please create a detailed, actionable calendar that she can implement immediately while honoring her role as a mom.`;
        }

        function validateWorkflowStep(step) {
            let isValid = false;
            let field, validation, button;
            
            switch(step) {
                case 1:
                    field = document.getElementById('chatgpt-response');
                    validation = document.getElementById('chatgpt-response-validation');
                    button = document.getElementById('processStep1Btn');
                    break;
                case 2:
                    field = document.getElementById('gemini-mvp-response');
                    validation = document.getElementById('gemini-mvp-response-validation');
                    button = document.getElementById('processStep2Btn');
                    break;
                case 3:
                    field = document.getElementById('gemini-pricing-response');
                    validation = document.getElementById('gemini-pricing-response-validation');
                    button = document.getElementById('processStep3Btn');
                    break;
                case 4:
                    field = document.getElementById('gemini-infographic-code');
                    validation = document.getElementById('gemini-infographic-code-validation');
                    button = document.getElementById('processStep4Btn');
                    break;
                case 5:
                    field = document.getElementById('claude-calendar-response');
                    validation = document.getElementById('claude-calendar-response-validation');
                    button = document.getElementById('processStep5Btn');
                    break;
            }
            
            if (field && validation && button) {
                const value = field.value.trim();
                
                if (step === 4) {
                    // For code, check if it looks like HTML/SVG
                    if (value.length > 50 && (value.includes('<svg') || value.includes('<div') || value.includes('<html'))) {
                        validation.textContent = '‚úì Code detected';
                        validation.className = 'validation-message success';
                        field.style.borderColor = 'var(--sage-green)';
                        isValid = true;
                    } else if (value.length > 0) {
                        validation.textContent = 'Please paste HTML/SVG code (not just text description)';
                        validation.className = 'validation-message';
                        field.style.borderColor = '#e57373';
                    } else {
                        validation.textContent = '';
                        field.style.borderColor = 'var(--light-sage)';
                    }
                } else {
                    // For text responses
                    if (value.length >= 100) {
                        validation.textContent = '‚úì Response looks complete';
                        validation.className = 'validation-message success';
                        field.style.borderColor = 'var(--sage-green)';
                        isValid = true;
                    } else if (value.length > 0) {
                        validation.textContent = 'Please provide a more complete response (at least 100 characters)';
                        validation.className = 'validation-message';
                        field.style.borderColor = '#e57373';
                    } else {
                        validation.textContent = '';
                        field.style.borderColor = 'var(--light-sage)';
                    }
                }
                
                // Enable/disable button
                if (isValid) {
                    button.style.opacity = '1';
                    button.style.pointerEvents = 'all';
                } else {
                    button.style.opacity = '0.5';
                    button.style.pointerEvents = 'none';
                }
            }
            
            return isValid;
        }

        function processStep1Response() {
            const response = document.getElementById('chatgpt-response').value.trim();
            if (response.length < 100) {
                alert(currentLanguage === 'es' ? 
                    'Por favor proporciona una respuesta m√°s completa de ChatGPT.' :
                    'Please provide a more complete response from ChatGPT.');
                return;
            }
            
            // Store the response
            workflowResponses.chatgpt = response;
            
            // Update the Gemini MVP prompt with ChatGPT response
            let mvpPrompt = document.getElementById('gemini-mvp-prompt').value;
            mvpPrompt = mvpPrompt.replace('[Will be replaced with actual response]', response);
            document.getElementById('gemini-mvp-prompt').value = mvpPrompt;
            
            // Hide step 1 and show step 2
            document.getElementById('step1Collection').classList.add('hidden');
            document.getElementById('step2Collection').classList.remove('hidden');
            document.getElementById('step2Collection').scrollIntoView({ behavior: 'smooth' });
            
            console.log('Step 1 completed, ChatGPT response processed');
        }

        function processStep2Response() {
            const response = document.getElementById('gemini-mvp-response').value.trim();
            if (response.length < 100) {
                alert(currentLanguage === 'es' ? 
                    'Por favor proporciona una respuesta m√°s completa de Gemini.' :
                    'Please provide a more complete response from Gemini.');
                return;
            }
            
            // Store the response
            workflowResponses.geminiMvp = response;
            
            // Update the Gemini Pricing prompt with MVP response
            let pricingPrompt = document.getElementById('gemini-pricing-prompt').value;
            pricingPrompt = pricingPrompt.replace('[Will be replaced with actual Gemini MVP response]', response);
            document.getElementById('gemini-pricing-prompt').value = pricingPrompt;
            
            // Hide step 2 and show step 3
            document.getElementById('step2Collection').classList.add('hidden');
            document.getElementById('step3Collection').classList.remove('hidden');
            document.getElementById('step3Collection').scrollIntoView({ behavior: 'smooth' });
            
            console.log('Step 2 completed, Gemini MVP response processed');
        }

        function processStep3Response() {
            const response = document.getElementById('gemini-pricing-response').value.trim();
            if (response.length < 100) {
                alert(currentLanguage === 'es' ? 
                    'Por favor proporciona una respuesta m√°s completa de investigaci√≥n de precios.' :
                    'Please provide a more complete pricing research response.');
                return;
            }
            
            // Store the response
            workflowResponses.geminiPricing = response;
            
            // Update the Gemini Infographic prompt with previous responses
            let infographicPrompt = document.getElementById('gemini-infographic-prompt').value;
            infographicPrompt = infographicPrompt.replace('[Will be replaced with actual MVP response]', workflowResponses.geminiMvp);
            infographicPrompt = infographicPrompt.replace('[Will be replaced with actual pricing response]', response);
            document.getElementById('gemini-infographic-prompt').value = infographicPrompt;
            
            // Hide step 3 and show step 4
            document.getElementById('step3Collection').classList.add('hidden');
            document.getElementById('step4Collection').classList.remove('hidden');
            document.getElementById('step4Collection').scrollIntoView({ behavior: 'smooth' });
            
            console.log('Step 3 completed, Gemini pricing response processed');
        }

        function processStep4Code() {
            const code = document.getElementById('gemini-infographic-code').value.trim();
            if (code.length < 50 || (!code.includes('<svg') && !code.includes('<div') && !code.includes('<html'))) {
                alert(currentLanguage === 'es' ? 
                    'Por favor pega el c√≥digo HTML/SVG real de la infograf√≠a, no solo texto.' :
                    'Please paste the actual HTML/SVG code for the infographic, not just text.');
                return;
            }
            
            // Store the code
            workflowResponses.geminiInfographic = code;
            
            // Update the Claude Calendar prompt with all previous responses
            let calendarPrompt = document.getElementById('claude-calendar-prompt').value;
            calendarPrompt = calendarPrompt.replace('[Will be replaced with actual response]', workflowResponses.chatgpt);
            calendarPrompt = calendarPrompt.replace('[Will be replaced with actual MVP response]', workflowResponses.geminiMvp);
            calendarPrompt = calendarPrompt.replace('[Will be replaced with actual pricing response]', workflowResponses.geminiPricing);
            document.getElementById('claude-calendar-prompt').value = calendarPrompt;
            
            // Hide step 4 and show step 5
            document.getElementById('step4Collection').classList.add('hidden');
            document.getElementById('step5Collection').classList.remove('hidden');
            document.getElementById('step5Collection').scrollIntoView({ behavior: 'smooth' });
            
            console.log('Step 4 completed, infographic code processed');
        }

        function processStep5Response() {
            const response = document.getElementById('claude-calendar-response').value.trim();
            if (response.length < 100) {
                alert(currentLanguage === 'es' ? 
                    'Por favor proporciona una respuesta m√°s completa del calendario de Claude.' :
                    'Please provide a more complete calendar response from Claude.');
                return;
            }
            
            // Store the response
            workflowResponses.claude = response;
            
            // Generate final dashboard
            generateFinalDashboard();
            
            // Hide step 5 and show final dashboard
            document.getElementById('step5Collection').classList.add('hidden');
            document.getElementById('step6Dashboard').classList.remove('hidden');
            document.getElementById('step6Dashboard').scrollIntoView({ behavior: 'smooth' });
            
            console.log('Step 5 completed, generating final dashboard');
        }

        function generateFinalDashboard() {
            // Display the infographic
            const infographicContainer = document.getElementById('infographicContainer');
            const infographicPlaceholder = document.getElementById('infographicPlaceholder');
            
            if (workflowResponses.geminiInfographic) {
                infographicPlaceholder.style.display = 'none';
                infographicContainer.innerHTML = workflowResponses.geminiInfographic;
            }
            
            // Display the calendar
            const calendarContainer = document.getElementById('calendarContainer');
            const calendarPlaceholder = document.getElementById('calendarPlaceholder');
            
            if (workflowResponses.claude) {
                calendarPlaceholder.style.display = 'none';
                // Format Claude response for better display
                const formattedCalendar = workflowResponses.claude.replace(/\n/g, '<br>');
                calendarContainer.innerHTML = `<div style="white-space: pre-wrap; line-height: 1.6;">${formattedCalendar}</div>`;
            }
            
            // Update business plan summary
            document.getElementById('businessIdeasSummary').textContent = 
                workflowResponses.chatgpt.substring(0, 150) + '...';
            document.getElementById('marketResearchSummary').textContent = 
                workflowResponses.geminiMvp.substring(0, 150) + '...';
            document.getElementById('actionPlanSummary').textContent = 
                workflowResponses.claude.substring(0, 150) + '...';
        }

        function downloadCompleteBusinessPlan() {
            // Generate comprehensive business plan document
            const userData = collectFormData();
            const businessPlanContent = generateCompleteBusinessPlan(userData);
            
            // Create downloadable file
            const blob = new Blob([businessPlanContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `smart-mom-complete-business-plan-${userData.name.replace(/\s+/g, '-').toLowerCase()}.html`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Send completion webhook
            safeWebhookCall('https://momsurvivaltoolkit.app.n8n.cloud/webhook-test/smart-mom-complete', {
                ...userData,
                workflowCompleted: true,
                hasAllResponses: true,
                timestamp: new Date().toISOString()
            }, 'Workflow completion notification');
            
            console.log('Complete business plan downloaded');
        }

        function generateCompleteBusinessPlan(userData) {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Mom Business Plan - ${userData.name}</title>
    <style>
        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #6B8E6B; }
        .section { margin-bottom: 30px; padding: 20px; border-left: 4px solid #6B8E6B; background: #f9f9f9; }
        .infographic { border: 2px solid #D4A574; border-radius: 8px; padding: 20px; margin: 20px 0; }
        .calendar { background: #E8F5E8; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .summary { background: #2D5B69; color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>üåü Smart Mom Method - Complete Business Plan</h1>
    <h2>üëã ${userData.name}'s Personalized Business Strategy</h2>
    
    <div class="summary">
        <h3>üìã Executive Summary</h3>
        <p><strong>Selected Path:</strong> ${userData.selectedPath}</p>
        <p><strong>Investment Level:</strong> ${userData['investment-level']}</p>
        <p><strong>Timeline:</strong> ${userData['income-timeline']}</p>
        <p><strong>Budget:</strong> ${userData['total-budget']}</p>
        <p><strong>Family Situation:</strong> ${userData['family-structure']}</p>
    </div>
    
    <div class="section">
        <h3>ü§ñ AI-Generated Business Ideas</h3>
        <p>${workflowResponses.chatgpt || 'ChatGPT analysis will appear here...'}</p>
    </div>
    
    <div class="section">
        <h3>üíé Market Research & MVP Strategy</h3>
        <p>${workflowResponses.geminiMvp || 'Gemini MVP research will appear here...'}</p>
    </div>
    
    <div class="section">
        <h3>üí∞ Pricing Strategy & Market Analysis</h3>
        <p>${workflowResponses.geminiPricing || 'Gemini pricing research will appear here...'}</p>
    </div>
    
    <div class="infographic">
        <h3>üé® Business Plan Infographic</h3>
        ${workflowResponses.geminiInfographic || '<p>Infographic will appear here...</p>'}
    </div>
    
    <div class="calendar">
        <h3>üìÖ 90-Day Action Calendar</h3>
        <pre style="white-space: pre-wrap; font-family: inherit;">${workflowResponses.claude || 'Claude calendar will appear here...'}</pre>
    </div>
    
    <div class="section">
        <h3>üéØ Next Steps</h3>
        <ol>
            <li>Review your complete business plan</li>
            <li>Start with Week 1 actions from your calendar</li>
            <li>Join the Smart Mom Method community</li>
            <li>Track your progress weekly</li>
            <li>Adjust and optimize based on results</li>
        </ol>
    </div>
    
    <footer style="text-align: center; margin-top: 40px; padding: 20px; border-top: 2px solid #6B8E6B;">
        <p><strong>Generated by Smart Mom Method</strong></p>
        <p>Created on: ${new Date().toLocaleDateString()}</p>
        <p>Your journey to an organized life and successful business starts now!</p>
    </footer>
</body>
</html>`;
        }

        function showPaymentOptions() {
            document.getElementById('paymentOptions').classList.remove('hidden');
            document.getElementById('bookingSection').classList.remove('hidden');
            document.getElementById('completionSection').classList.remove('hidden');
            
            document.getElementById('paymentOptions').scrollIntoView({ behavior: 'smooth' });
        }

        // Utility Functions
        function copyToClipboard(textareaId) {
            const textarea = document.getElementById(textareaId);
            textarea.select();
            textarea.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                document.execCommand('copy');
                alert(currentLanguage === 'es' ? 
                    '¬°Copiado al portapapeles!' : 
                    'Copied to clipboard!');
            } catch (err) {
                console.error('Failed to copy: ', err);
                alert(currentLanguage === 'es' ? 
                    'Error al copiar. Por favor selecciona y copia manualmente.' : 
                    'Failed to copy. Please select and copy manually.');
            }
        }

        function openChatGPT() {
            window.open('https://chat.openai.com', '_blank');
        }

        function openGemini() {
            window.open('https://gemini.google.com', '_blank');
        }

        function openClaude() {
            window.open('https://claude.ai', '_blank');
        }

        function downloadCalendar() {
            // Generate calendar content based on selected path
            const calendarContent = generateCalendarContent();
            
            // Create downloadable file
            const blob = new Blob([calendarContent], { type: 'text/calendar;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `smart-mom-${selectedPath}-calendar.ics`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Track download
            console.log('Calendar downloaded for path:', selectedPath);
        }

        function generateCalendarContent() {
            const now = new Date();
            const pathTitles = {
                'life-organization': 'Smart Mom Life Organization Calendar',
                'business-launch': 'Smart Mom Business Launch Calendar',
                'both': 'Smart Mom Complete Life & Business Calendar'
            };
            
            // Enhanced ICS calendar format
            return `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Smart Mom Method Calendar//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:${pathTitles[selectedPath] || 'Smart Mom Calendar'}
X-WR-CALDESC:Your personalized Smart Mom Method calendar with AI-generated business plan and life organization system.
BEGIN:VEVENT
UID:smartmom-welcome-${Date.now()}@smartmommethod.com
DTSTAMP:${now.toISOString().replace(/[-:]/g, '').split('.')[0]}Z
DTSTART:${now.toISOString().replace(/[-:]/g, '').split('.')[0]}Z
SUMMARY:üåü Welcome to Your Smart Mom Method Journey!
DESCRIPTION:Congratulations! Your personalized Smart Mom Method plan is ready. This calendar includes your AI-generated business recommendations\\, daily routines\\, and goal-oriented tasks designed specifically for busy moms like you. Start implementing your new organized life and business today!
CATEGORIES:Smart Mom Method\\,Life Organization\\,Business Planning
END:VEVENT
END:VCALENDAR`;
        }

        function provideFeedback() {
            const feedback = prompt(currentLanguage === 'es' ? 
                'Comparte tu experiencia con Smart Mom Method:' :
                'Share your experience with Smart Mom Method:');
                
            if (feedback) {
                // Send feedback webhook (non-blocking)
                safeWebhookCall('https://momsurvivaltoolkit.app.n8n.cloud/webhook-test/smart-mom-feedback', {
                    email: document.getElementById('user-email').value.trim(),
                    name: document.getElementById('user-name').value.trim(),
                    feedback: feedback,
                    selectedPath: selectedPath,
                    language: currentLanguage,
                    timestamp: new Date().toISOString()
                }, 'Feedback submission');
                
                alert(currentLanguage === 'es' ? 
                    '¬°Gracias por tu feedback!' :
                    'Thank you for your feedback!');
            }
        }

        function startOver() {
            selectedPath = '';
            
            // Reset all forms
            document.getElementById('user-name').value = '';
            document.getElementById('user-email').value = '';
            
            // Reset business questionnaire
            const formFields = [
                'investment-level', 'work-location', 'work-style', 
                'camera-comfort', 'income-timeline', 'total-budget', 
                'family-structure', 'daily-schedule'
            ];
            
            formFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                    field.style.borderColor = 'var(--light-sage)';
                }
            });
            
            // Reset validations
            document.querySelectorAll('.validation-message').forEach(msg => {
                msg.textContent = '';
            });
            
            // Reset character counters
            document.querySelectorAll('.char-counter').forEach(counter => {
                counter.textContent = '0/1000';
            });
            
            // Reset path selection
            document.querySelectorAll('.path-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            document.getElementById('continueBtn').classList.remove('visible');
            
            // Show initial sections
            document.getElementById('basicInfoSection').classList.remove('hidden');
            document.getElementById('pathSelection').classList.add('hidden');
            document.getElementById('businessQuestionnaire').classList.add('hidden');
            document.getElementById('aiProcessSteps').classList.add('hidden');
            document.getElementById('aiResults').classList.add('hidden');
            document.getElementById('sequentialWorkflow').classList.add('hidden');
            document.getElementById('paymentOptions').classList.add('hidden');
            document.getElementById('bookingSection').classList.add('hidden');
            document.getElementById('completionSection').classList.add('hidden');
            
            // Scroll to top
            document.getElementById('basicInfoSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });
    </script>
</body>
</html>
